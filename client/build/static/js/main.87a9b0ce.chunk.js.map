{"version":3,"sources":["app/components/banner.js","app/components/button.js","app/pages/landing.js","app/pages/write/landing.js","app/components/form.js","app/components/writing.js","app/pages/write/story.js","app/pages/write/title.js","app/pages/write/feedback.js","app/pages/write/thankyou.js","app/pages/write/routes.js","app/pages/admin/landing.js","app/pages/admin/stories.js","app/pages/admin/feedback.js","app/pages/admin/routes.js","app/pages/watch/landing.js","app/pages/watch/watch.js","app/pages/watch/routes.js","app/components/navframe.js","app/pages/admin/login.js","app/routes.js","app/components/withAuth.js","index.js"],"names":["BannerFrame","Tag","this","props","hsize","react_default","a","createElement","title","desc","React","Component","ButtonFrameForm","handleClick","buttonLabel","buttonlabel","linkto","Link","to","type","onClick","bind","className","Landing","banner_BannerFrame","button_ButtonFrameForm","FormFrame","e","handleChange","target","value","handleSubmit","onSubmit","ref","input","focus","required","autoFocus","rows","maxLength","length","placeholder","concat","onChange","Story","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","apiCall","_ref","asyncToGenerator","regenerator_default","mark","_callee","apiEndPoint","response","body","wrap","_context","prev","next","fetch","sent","json","status","Error","message","abrupt","stop","_x","apply","arguments","apiPost","_ref2","_callee2","toSubmit","data","key","_context2","hydrate_Some_StateWithLocalStorage","method","headers","Content-Type","JSON","stringify","text","console","log","setState","redirect","localStorage","removeItem","_x2","_x3","assertThisInitialized","state","setItem","array","entry","hasOwnProperty","parse","getItem","subject","defineProperty","stateToSubmit","saveStateToLocalStorage","hydrateStateWithLocalStorage","window","addEventListener","removeEventListener","clear","object","comparison","result","keys","forEach","Redirect","val","loadStateSubject","renderRedirect","form_FormFrame","writeStory","writing_Story","writeTitle","_linkto","writeFeedback","Thankyou","label","RoutesWrite","Switch","Route","exact","path","component","Title","Feedback","Stories","apiGet","endpoint","eventSource","EventSource","handleAutolive","handleRefresh","handleClear","handleRemove","handleStorylive","stories","autolive","isChecked","_this2","apiAutolive","then","res","catch","err","document","activeElement","blur","apiRefresh","_this3","apiClear","row","_this4","apiRemove","_this5","apiStorylive","_this6","onerror","apiHello","close","_this7","tableStyle","backgroundColor","style","width","textAlign","checked","confirm","map","index","display","_id","story","storylive","feedback","RoutesAdmin","render","feedback_Feedback","stories_Stories","LandingWatch","diff","start","end","parseFloat","toFixed","metadata","image_duration","imagesStart","image_locations","urls","url","push","pic_duration","Math","round","markers","i","Watch","handleFullscreen","onReady","onProgress","onEnded","mode","popupStart","popupEnd","imagesEnd","url_index","popup_title","image_frame","image","scroller","playing","controls","volume","progressInterval","container","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","toUpperCase","currentSec","playedSeconds","player","seekTo","dbSettings","node_mode","popup_duration","id","outerContainer","ReactPlayer_default","height","alt","src","RoutesWatch","callApi","IndexLanding","navExpanded","expanded","linksFrame","links","lib","activeClassName","Nav","Navbar","bg","variant","expand","onToggle","setNavExpanded","href","Toggle","aria-controls","Collapse","onSelect","closeNav","Login","username","password","event","_event$target","name","preventDefault","error","alert","Routes","navframe_IndexLanding","ComponentToProtect","_React$Component","_class","loading","inherits","createClass","Fragment","ReactDOM","HashRouter","routes_Routes","getElementById"],"mappings":"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","file":"static/js/main.87a9b0ce.chunk.js","sourcesContent":["import React from 'react';\n\nexport default class BannerFrame extends React.Component {\n  render() {\n    let Tag\n    if (this.props.hsize) {\n      Tag = this.props.hsize\n    } else {\n      Tag = \"h4\"\n    }\n    return (<div>\n      <Tag>{this.props.title}</Tag>\n      <p>{this.props.desc}</p>\n    </div>);\n  }\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nexport default class ButtonFrameForm extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n  }\n  handleClick() {\n    //console.log('Button clicked')\n    if (this.props.handleClick) {\n      this.props.handleClick();\n    }\n  }\n  render() {\n    let buttonLabel;\n    if (this.props.buttonlabel) {\n      buttonLabel = this.props.buttonlabel\n    } else {\n      buttonLabel = 'Submit'\n    }\n    if (this.props.linkto) {\n      return (<div>\n        <p>{this.props.desc}</p>\n        <Link to={this.props.linkto}>\n          <button type=\"button\"\n          onClick={this.handleClick.bind(this)}\n          className=\"btn btn-primary btn-responsive\">{buttonLabel}</button>\n        </Link>\n      </div>)\n    } else {\n      return (<div>\n        <p>{this.props.desc}</p>\n          <button type=\"button\"\n          onClick={this.handleClick.bind(this)}\n          className=\"btn btn-primary btn-responsive\">{buttonLabel}</button>\n      </div>)\n    }\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../app/components/banner';\nimport ButtonFrame from '../../app/components/button';\n\nexport default class Landing extends React.Component {\n  componentDidMount() {\n    //console.log(this.state);\n}\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"About...\" desc=\"Welcome to the LetsFakeNews 24-hour TV service where we take your fake-news without judgement and display it for the world to see.\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write\" buttonlabel=\"Write\" desc=\"Write fakenews (using your Phone or Desktop)\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/watch\" buttonlabel=\"Watch\" desc=\"Watch fakenews in fullscreen (Desktop only)\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/admin\" buttonlabel=\"Admin\" desc=\"Administer the fakenews (password required)\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/banner';\nimport ButtonFrame from '../../../app/components/button';\n\nexport default class Landing extends React.Component {\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Write...\" desc=\"Pretend you're a journalist with a deadline but no news to report so you're going to fake it! Try to trick the Al-Jazeera news-room into broadcasting your fake story, then wait to see if it appears on the public screen. To ensure the news-room accept your story, be grammatically correct with spelling, capitalisation etc.\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write/story\" buttonlabel=\"Start\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n//import {Link} from 'react-router-dom';\n\nimport ButtonFrame from './button';\n\nexport default class FormFrame extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n  }\n  handleChange(e) {\n    this.props.handleChange(e.target.value);\n  }\n  //suppress submit if form-action came from the write_story-frame... only accept from write_title-frame\n  handleSubmit() {\n    if (this.props.handleSubmit) {\n      this.props.handleSubmit();\n    }\n  }\n  render() {\n    return (<div>\n      <form onSubmit={this.handleSubmit.bind(this)}>\n        <div>\n          <textarea\n          ref={function(input) {if (input != null) {input.focus();}}}\n          className=\"form-control form-responsive\"\n          required=\"required\"\n          autoFocus\n          rows={this.props.rows}\n          maxLength={this.props.length}\n          placeholder={`${this.props.length} chars max...`}\n          value={this.props.value}\n          onChange={this.handleChange.bind(this)}>\n          </textarea>\n\n          <ButtonFrame\n          linkto={this.props.linkto}\n          buttonlabel={this.props.buttonlabel}\n          handleClick={this.handleSubmit.bind(this)}/>\n        </div>\n      </form>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {\n  Redirect\n} from 'react-router-dom';\nimport BannerFrame from './banner';\nimport FormFrame from './form';\n\nexport default class Story extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.apiCall = this.apiCall.bind(this);\n    this.apiPost = this.apiPost.bind(this);\n    this.state = {\n      redirect: false\n    }\n  }\n  apiCall = async (apiEndPoint) => {\n    const response = await fetch(apiEndPoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  apiPost = async (apiEndPoint, toSubmit) => {\n    //fetch from localStorage the data that needs to be POSTED to the API\n    const data = this.hydrate_Some_StateWithLocalStorage(toSubmit)\n    const response = await fetch(apiEndPoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    const body = await response.text();\n    console.log(body);\n    this.setState(() => ({\n      redirect: true\n    }))\n    //empty the relevant localStorage entries\n    for (let key in toSubmit) {\n      localStorage.removeItem(toSubmit[key]);\n    }\n  };\n  saveStateToLocalStorage() {\n    // for every item in React state\n    for (let key in this.state) {\n      // save to localStorage\n      localStorage.setItem(key, JSON.stringify(this.state[key]));\n    }\n  }\n  hydrate_Some_StateWithLocalStorage(array) {\n    const data = {};\n    for (let entry in array) {\n      // if the key exists in localStorage\n      if (localStorage.hasOwnProperty(array[entry])) {\n        // get the key's value from localStorage\n        let value = JSON.parse(localStorage.getItem(array[entry]));\n        data[array[entry]] = value;\n      }\n    }\n    return data\n  }\n  hydrateStateWithLocalStorage() {\n    // if the key exists in localStorage\n    if (localStorage.hasOwnProperty(this.props.subject)) {\n      // get the key's value from localStorage\n      let value = localStorage.getItem(this.props.subject);\n      // parse the localStorage string and setState\n      try {\n        value = JSON.parse(value);\n        this.setState({\n          [this.props.subject]: value\n        });\n      } catch (e) {\n        // handle empty string\n        this.setState({\n          [this.props.subject]: value\n        });\n      }\n    }\n  }\n  handleChange(value) {\n    this.setState({\n      [this.props.subject]: value\n    });\n  }\n  handleSubmit() {\n    if (this.props.stateToSubmit) {\n      //move active data from state to localstorage\n      this.saveStateToLocalStorage();\n      this.apiPost(this.props.apiEndPoint, this.props.stateToSubmit);\n    }\n  }\n  componentWillMount() {}\n  componentDidMount() {\n    // register with the backend server\n    //this.apiCall(this.props.match.url).then(res => console.log(res)).catch(err => console.log(err));\n    // if LocalStorage has values, pass them to this.state\n    this.hydrateStateWithLocalStorage();\n    // add event listener to save state to localStorage when user leaves/refreshes the page\n    window.addEventListener(\"beforeunload\", this.saveStateToLocalStorage.bind(this));\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"beforeunload\", this.saveStateToLocalStorage.bind(this));\n    if (this.state.redirect) {\n      //empty state and localstorage\n      localStorage.clear();\n      this.setState(() => ({\n        redirect: false\n      }))\n    } else {\n      // saves if component has a chance to unmount\n      this.saveStateToLocalStorage();\n    }\n  }\n  loadStateSubject(object, comparison) {\n    let result;\n    Object.keys(object).forEach(function (key) {\n      if (key === comparison) {\n        result = object[key]\n      }\n    })\n    return result\n  }\n  renderRedirect() {\n    if (this.state.redirect) {\n      return <Redirect to='/write/thankyou' />\n    }\n  }\n  render() {\n    const val = this.loadStateSubject(this.state, this.props.subject);\n    return (<div>\n        {this.renderRedirect()}\n        <section>\n          <BannerFrame\n            hsize='h4'\n            title={this.props.title}\n            desc={this.props.desc}/>\n          <hr/>\n          <FormFrame\n            rows={this.props.rows}\n            length={this.props.length}\n            linkto={this.props.linkto}\n            value={val}\n            handleChange={this.handleChange.bind(this)}\n            handleSubmit={this.handleSubmit.bind(this)}/>\n          <hr/>\n        </section>\n      </div>)\n  }\n}\n","import React from 'react';\n\nimport Writing from '../../components/writing';\n\nexport default class writeStory extends React.Component {\n  render() {\n    return (<div>\n      <section>\n        <Writing\n          title=\"Write a story...\"\n          desc=\"Make up a fake-news story\"\n          rows=\"4\" length=\"280\"\n          subject='story'\n          linkto=\"/write/title\"\n          />\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport Writing from '../../components/writing';\n\nexport default class writeTitle extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n}\n  render() {\n    return (<div>\n      <section>\n        <Writing\n          title=\"Add a title...\"\n          desc=\"Give a title to your story\"\n          rows=\"1\" length=\"25\"\n          subject=\"title\"\n          apiEndPoint=\"/write/news\"\n          stateToSubmit={[\"story\",\"title\"]}\n          _linkto=\"/write/thankyou\"\n          redirect=\"/write/thankyou\"\n          />\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport Writing from '../../components/writing';\n\nexport default class writeFeedback extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n}\n  render() {\n    return (<div>\n      <section>\n        <Writing\n          title=\"Give your feedback...\"\n          desc=\"Give us your response to writing & watching fake-news with us\"\n          rows=\"4\" length=\"280\"\n          subject=\"feedback\"\n          apiEndPoint=\"/write/feedback\"\n          stateToSubmit={[\"feedback\"]}\n          linkto=\"/write/thankyou\"\n          />\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/banner';\nimport ButtonFrame from '../../../app/components/button';\n\nexport default class Thankyou extends React.Component {\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Thank you...\" desc=\"We hope you enjoyed writing & watching fake-news, its so much!\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write/story\" label=\"restart\" desc=\"Write more fake news\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write/feedback\" label=\"feedback\" desc=\"Leave your feedback for the LetsFakeNews team\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\n\nimport Landing from './landing';\nimport Story from './story';\nimport Title from './title';\nimport Feedback from './feedback';\nimport Thankyou from './thankyou';\n\nexport default class RoutesWrite extends React.Component {\n  render() {\n    return (<div>\n      <Switch>\n        <Route exact path=\"/write\" component={Landing}/>\n        <Route path=\"/write/story\" component={Story}/>\n        <Route path=\"/write/title\" component={Title}/>\n        <Route path=\"/write/feedback\" component={Feedback}/>\n        <Route path=\"/write/thankyou\" component={Thankyou}/>\n        <Redirect to=\"/write\"/>\n      </Switch>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/banner';\nimport ButtonFrame from '../../../app/components/button';\n\nexport default class Landing extends React.Component {\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Admin...\" desc=\"Use the following buttons to administer the databases\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/admin/stories\" buttonlabel=\"Stories\" desc=\"Administer stories as they are submitted\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/admin/feedback\" buttonlabel=\"Feedback\" desc=\"View feedback from users\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\nimport BannerFrame from '../../../app/components/banner';\nimport 'eventsource-polyfill';\n\nexport default class Stories extends React.Component {\n  constructor(props) {\n    super(props);\n    if (process.env.NODE_ENV === 'production') {\n      this.eventSource = new EventSource('../settings/sse');\n    } else {\n      this.eventSource = new EventSource(`http://localhost:5000/settings/sse`);\n    }\n    //\n    this.apiGet = this.apiGet.bind(this);\n    this.apiPost = this.apiPost.bind(this);\n    this.handleAutolive = this.handleAutolive.bind(this);\n    this.handleRefresh = this.handleRefresh.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n    this.handleStorylive = this.handleStorylive.bind(this);\n    //\n    this.state = {\n      stories: [],\n      autolive: false\n    };\n  }\n  apiGet = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    else\n      return body;\n  }\n  apiPost = async (endpoint, data) => {\n    const response = await fetch(endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  };\n  handleAutolive(isChecked) {\n    /* update status of autolive */\n    this.apiGet(this.props.apiAutolive).then((res) => this.setState({\n      autolive: JSON.parse(res.autolive)\n    })).catch(err => console.log(err));\n  }\n  handleRefresh() {\n    /* Connect to API to refresh imagery */\n    document.activeElement.blur();\n    this.apiGet(this.props.apiRefresh).then(res => console.log(res)).catch(err => console.log(err));\n  }\n  handleClear() {\n    /* Connect to API and clear all from database */\n    document.activeElement.blur();\n    /* Connect to API and clear feedback from database */\n    let data = {\n      subject: this.props.title\n    }\n    this.apiPost(this.props.apiClear, data).then(res => this.setState({\n      stories: res.data\n    })).catch(err => console.log(err));\n  }\n  handleRemove(row) {\n    document.activeElement.blur();\n    /* Connect to API and delete single entry from database */\n    this.apiPost(this.props.apiRemove, row).then((res) => this.setState({\n      stories: res.stories\n    })).catch(err => console.log(err));\n  }\n  handleStorylive(row) {\n    /* Connect to API to update storylive-setting for entry in database */\n    this.apiPost(this.props.apiStorylive, row).then((res) => this.setState({\n      stories: res.stories\n    })).catch(err => console.log(err));\n  }\n  componentDidMount() {\n    /* open sse listener */\n    this.eventSource.addEventListener('story', (e) => {\n      this.setState({\n        stories: JSON.parse(e.data)\n      });\n    });\n    // Catches errors\n    this.eventSource.onerror = (e) => {\n      console.log(\"---- ERROR: \", e);\n    };\n\n    /* load autolive-status & stories from Db */\n    this.apiGet(this.props.apiHello)\n    .then((res) => {\n      this.setState({autolive: JSON.parse(res.autolive), stories: res.stories})\n      console.log(res);\n    }).catch(err => console.log(err));\n}\ncomponentWillUnmount() {\n  /* close sse listener */\n  this.eventSource.close();\n}\nrender() {\n  const tableStyle = {\n    backgroundColor: \"white\"\n  }\n  return (<div>\n      <BannerFrame desc={this.props.desc} title={this.props.title}/>\n      <hr/>\n      <table className=\"table table-bordered\" style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"95%\"\n              }}>Command</th>\n            <th style={{\n                width: \"5%\"\n              }}>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Set new stories to go live automatically</td>\n            <td style={{textAlign: \"center\"}}><input type=\"checkbox\" checked={this.state.autolive} onChange={this.handleAutolive.bind(this)} className=\"form-check-input show_tip autolive\"/>\n            </td>\n          </tr>\n          <tr>\n            <td>Refresh imagery for all stories</td>\n            <td>\n              <button type=\"button\" onClick={this.handleRefresh.bind(this)} className=\"btn btn-primary show_tip refresh \"></button>\n            </td>\n          </tr>\n          <tr>\n            <td>Clear all stories from database</td>\n            <td>\n              <button\n              type=\"button\"\n              onClick={() => { window.confirm('Are you sure you wish to delete this item?') ? this.handleClear() : document.activeElement.blur() } }\n              className=\"btn btn-danger show_tip clear\"></button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <hr/>\n      <table ref='table_stories' className=\"table table-bordered table-hover\" style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"5%\"\n              }}>#</th>\n            <th style={{\n                width: \"20%\"\n              }}>Title</th>\n            <th style={{\n                width: \"65%\"\n              }}>Story</th>\n            <th style={{\n                width: \"6%\"\n              }}>Delete</th>\n            <th style={{\n                width: \"4%\"\n              }}>Live</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            (this.state.stories.length > 0)\n              ? this.state.stories.map((entry, index) => {\n                return (<tr key={index}>\n                  <td style={{display:'none'}}>{entry._id}</td>\n                  <td>{index + 1}</td>\n                  <td>{entry.title}</td>\n                  <td>{entry.story}</td>\n                  <td>\n                    <button type=\"button\" onClick={() => this.handleRemove(entry)} className=\"btn btn-danger show_tip clear\"></button>\n                  </td>\n                  <td style={{textAlign:'center'}}><input type=\"checkbox\" checked={entry.storylive===true ? true : false} onChange={() => this.handleStorylive(entry)} className=\"form-check-input show_tip autolive\"/></td>\n                </tr>)\n              })\n              : <tr></tr>\n          }\n        </tbody>\n      </table>\n      <hr/>\n    </div>)\n}\n}\n","import React from 'react';\nimport BannerFrame from '../../../app/components/banner';\n\nexport default class Feedback extends React.Component {\n  constructor(props) {\n    super(props);\n    this.apiGet = this.apiGet.bind(this);\n    this.apiPost = this.apiPost.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n    this.state = {\n      feedback: []\n    };\n    this.eventSource = new EventSource(\"http://localhost:5000/settings/sse\");\n  }\n  apiGet = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  apiPost = async (endpoint, data) => {\n    const response = await fetch(endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  };\n  handleClear() {\n    /* Connect to API and clear all from database */\n    document.activeElement.blur();\n    /* Connect to API and clear feedback from database */\n    let data = {\n      subject: this.props.title\n    }\n    this.apiPost(this.props.apiClear, data).then(res => this.setState({\n      feedback: res.data\n    })).catch(err => console.log(err));\n  }\n  componentDidMount() {\n    /* open sse listener */\n    this.eventSource.addEventListener('feedback', e => this.setState({\n      feedback: JSON.parse(e.data)\n    }));\n    /* load database into this.state */\n    this.apiGet(this.props.apiHello).then(res => this.setState({\n      feedback: res.feedback\n    })).catch(err => console.log(err));\n  }\n  componentWillUnmount() {\n    /* close sse listener */\n    this.eventSource.close();\n  }\n  render() {\n    const tableStyle = {\n      backgroundColor: \"white\"\n    }\n    return (<div>\n      <BannerFrame desc={this.props.desc} title={this.props.title}/>\n      <hr/>\n      <table className=\"table table-bordered\" style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"95%\"\n              }}>Command</th>\n            <th style={{\n                width: \"5%\"\n              }}>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Clear all entries from database</td>\n            <td>\n              <button\n              type=\"button\"\n              onClick={() => { window.confirm('Are you sure you wish to delete this item?') ? this.handleClear() : document.activeElement.blur() } }\n              className=\"btn btn-danger show_tip clear\"></button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <hr/>\n      <table className=\"table table-bordered\" style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"5%\"\n              }}>#</th>\n            <th style={{\n                width: \"95%\"\n              }}>Feedback</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            (this.state.feedback.length > 0)\n              ? this.state.feedback.map((entry, index) => {\n                return (<tr key={index}>\n                  <td>{index + 1}</td>\n                  <td>{entry.feedback}</td>\n                </tr>)\n              })\n              : <tr></tr>\n          }\n        </tbody>\n      </table>\n      <hr/>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\n\nimport Landing from './landing';\nimport Stories from './stories';\nimport Feedback from './feedback';\n\nexport default class RoutesAdmin extends React.Component {\n  constructor() {\n    super();\n    //this.handleChange = this.handleChange.bind(this);\n    this.apiCall = this.apiCall.bind(this);\n    //this.apiPost = this.apiPost.bind(this);\n    //this.state = {story: \"\",title: \"\",feedback: \"\"}\n  }\n  apiCall = async (apiEndPoint) => {\n    const response = await fetch(apiEndPoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  componentDidMount() {\n    // say hello into the backend server\n    //this.apiCall(this.props.match.url).then(res => console.log(res)).catch(err => console.log(err));\n  }\n  render() {\n    return (<div className=\"layout\">\n      <Switch>\n        <Route exact path=\"/admin\" component={Landing}/>\n        <Route path=\"/admin/feedback\" render={() =>\n          <Feedback\n          title=\"Feedback\"\n          desc=\"Use this page to view user feedback in realtime\"\n          apiHello=\"/admin/feedback\"\n          apiClear=\"/admin/clear\"\n          />\n        }/>\n        <Route path=\"/admin/stories\" render={() =>\n          <Stories\n          title=\"Stories\"\n          desc=\"Use this page to moderate fakenews stories in realtime\"\n          apiHello=\"/admin/stories\"\n          apiAutolive=\"/admin/stories/autolive\"\n          apiRefresh=\"/admin/stories/refresh\"\n          apiClear=\"/admin/clear\"\n          apiRemove=\"/admin/story/remove\"\n          apiStorylive=\"/admin/story/storylive\"\n          />\n        }/>\n        <Redirect to=\"/admin\"/>\n      </Switch>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/banner';\nimport ButtonFrame from '../../../app/components/button';\n\nexport default class LandingWatch extends React.Component {\n\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Watch...\" desc=\"Open this link on a desktop browser, set to fullscreen and enjoy the show!\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/watch/display\" buttonlabel=\"Watch\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\nimport ReactPlayer from 'react-player';\n\n// func to calc timing-durations\nconst diff = (start, end) => {\n  return parseFloat((end - start).toFixed(1))\n}\n// function process-multimedia-metadata\nconst metadata = (data, image_duration, imagesStart) => {\n  // load imge_URLS\n  let image_locations = data.urls;\n  let urls = []\n  for (var url in image_locations) {\n    urls.push(image_locations[url]);\n  }\n  // calculate multimedia metadata\n  let pic_duration = Math.round(image_duration / urls.length);\n  let markers = []\n  for (let i = 1; i <= urls.length; i++) {\n    markers.push(Math.round(imagesStart + pic_duration * i));\n  }\n  return {\n    urls: urls,\n    markers: markers\n  }\n}\n\nexport default class Watch extends React.Component {\n  constructor(props) {\n    super(props);\n    //\n    this.apiGet = this.apiGet.bind(this);\n    this.handleFullscreen = this.handleFullscreen.bind(this);\n    this.onReady = this.onReady.bind(this);\n    this.onProgress = this.onProgress.bind(this);\n    this.onEnded = this.onEnded.bind(this);\n    //\n    this.state = {\n      mode: \"\",\n      //timings\n      popupStart: 6.2,\n      popupEnd: 11.3,\n      imagesStart: 17.6,\n      imagesEnd: 41.1,\n      // story data\n      title: \"\",\n      story: \"\",\n      urls: [],\n      markers: [],\n      // array index for currently-displayed image from url-array\n      url_index: 0,\n      // interface elements visibility\n      popup_title: {\n        display: 'none'\n      },\n      image_frame: {\n        display: 'none'\n      },\n      image: {\n        display: 'none'\n      },\n      scroller: {\n        display: 'none'\n      },\n      playing: false,\n      controls: false,\n      volume: 1,\n      progressInterval: 500,\n      url: \"https://res.cloudinary.com/hi58qepi6/video/upload/v1548956607/aljazeera-desktop.mp4\"\n    }\n  }\n  apiGet = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  handleFullscreen() {\n    document.activeElement.blur();\n    console.log('button fullscreen pressed');\n    if (this.state.playing === false) {\n      this.setState({\n        playing: true\n      });\n    } else {\n      this.setState({\n        playing: false\n      });\n    }\n    let i = this.container;\n    // go full-screen with cross-browser support\n    if (i.requestFullscreen) {\n      i.requestFullscreen();\n    } else if (i.webkitRequestFullscreen) {\n      i.webkitRequestFullscreen();\n    } else if (i.mozRequestFullScreen) {\n      i.mozRequestFullScreen();\n    } else if (i.msRequestFullscreen) {\n      i.msRequestFullscreen()\n    }\n  }\n  onReady() {\n    console.log('ready');\n    /* load new story into this.state */\n    this.apiGet('/watch/request_new_story')\n      .then((res) => this.setState({\n        title: res.data.title.toUpperCase(),\n        story: res.data.story,\n        urls: metadata(res.data, this.state.image_duration, this.state.imagesStart).urls,\n        markers: metadata(res.data, this.state.image_duration, this.state.imagesStart).markers\n      }))\n      .then(() => console.log(this.state))\n      .catch(err => console.log(err))\n  }\n  onProgress(e) {\n    /* change url-image according to markers... */\n    let currentSec = e.playedSeconds;\n    if (currentSec >= this.state.markers[this.state.url_index]) {\n      //console.log('marker passed');\n      this.setState({\n        url_index: this.state.url_index + 1\n      });\n      //console.log(this.state.urls[this.state.url_index]);\n    }\n    /* change interface according to markers */\n    if (currentSec >= this.state.popupStart && currentSec <= this.state.popupEnd) {\n      //console.log('popup & title should be visible');\n      this.setState({\n        popup_title: {\n          display: 'block'\n        }\n      });\n    } else if (currentSec >= this.state.imagesStart && currentSec <= this.state.imagesEnd) {\n      //console.log('images & scroller should be visible');\n      this.setState({\n        popup_title: {\n          display: 'none'\n        },\n        image_frame: {\n          display: 'block'\n        },\n        image: {\n          display: 'block'\n        },\n        scroller: {\n          display: 'block'\n        }\n      });\n    } else {\n      this.setState({\n        popup_title: {\n          display: 'none'\n        },\n        image_frame: {\n          display: 'none'\n        },\n        image: {\n          display: 'none'\n        },\n        scroller: {\n          display: 'none'\n        }\n      });\n    }\n  }\n  onEnded() {\n    this.player.seekTo(0);\n  }\n  componentWillMount() {\n    console.log('componentWillMount');\n    // load db settings... load 'mode' into localStorage\n    this.apiGet('/settings/mode').then(res => {\n      //console.log(res);\n      //sessionStorage.setItem('node_mode', res.dbSettings.node_mode);\n      this.setState({\n        mode: res.dbSettings.node_mode\n      });\n    }).then(() => {\n      if (this.state.mode === 'production') {\n        this.setState({\n          playing: false,\n          controls: false,\n          volume: 1\n        });\n      } else {\n        this.setState({\n          playing: true,\n          controls: true,\n          volume: 0\n        });\n      }\n    }).catch(err => console.log(err));\n    /* calculate durations */\n    this.setState({\n      popup_duration: diff(this.state.popupStart, this.state.popupEnd),\n      image_duration: diff(this.state.imagesStart, this.state.imagesEnd)\n    });\n\n  }\n  componentDidMount() {\n    console.log('componentDidMount');\n    //this.player.seekTo(0);\n  }\n  render() {\n    return (<div>\n      <div id=\"button_div\">\n        <p>\n          <button id=\"btnFullscreen\" onClick={this.handleFullscreen.bind(this)} type=\"button\">TOGGLE PLAY/FULLSCREEN</button>\n        </p>\n      </div>\n        <div id=\"outerContainer\" ref={outerContainer => { this.outerContainer=outerContainer }} className=\"media\">\n          <div id=\"videoContainer\" ref={container => { this.container=container }} className=\"media-player\">\n            <ReactPlayer\n            id=\"videoPlayer\"\n            className='react-player'\n            volume={this.state.volume}\n            width='100%'\n            height='100%'\n            ref={player => { this.player=player }}\n            controls={this.state.controls}\n            progressInterval = {this.state.progressInterval}\n            playing={this.state.playing}\n            onReady={this.onReady.bind(this)}\n            onProgress={this.onProgress.bind(this)}\n            onEnded={this.onEnded.bind(this)}\n            url={this.state.url}\n            />\n            <div id=\"popup_title\" style={this.state.popup_title}>\n              <p id=\"popup_title_text\">{this.state.title}</p>\n            </div>\n            <div id=\"image_frame\" style={this.state.image_frame}>\n              <img id=\"image\" alt=\"\" src={this.state.urls[this.state.url_index]} style={this.state.image}/>\n            </div>\n            <div id=\"scroller\" className=\"scroll-left\" style={this.state.scroller}>\n              <p id=\"scroller_text\">{this.state.story}</p>\n            </div>\n          </div>\n        </div>\n\n    </div>)\n  }\n}\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\n\nimport Landing from './landing';\nimport Watch from './watch';\n\nexport default class RoutesWatch extends React.Component {\n\n  callApi = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  componentDidMount() {\n    // load the activelist for display purposes\n    //this.callApi(this.props.match.url).then(res => console.log('Activelist loaded')).catch(err => console.log(err));\n  }\n  render() {\n    return (<div className=\"layout\">\n      <Switch>\n        <Route exact path=\"/watch\" component={Landing}/>\n        <Route path=\"/watch/display\" component={Watch}/>\n        <Redirect to=\"/watch\"/>\n      </Switch>\n    </div>)\n  }\n}\n","import React from 'react';\n// bootstrap\nimport {Navbar, Nav} from 'react-bootstrap';\nimport {LinkContainer} from \"react-router-bootstrap\";\n//\nexport default class IndexLanding extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      navExpanded: false\n    };\n  }\n  getInitialState () {\n    return {\n      navExpanded: false\n    }\n  }\n  setNavExpanded(expanded) {\n    this.setState({ navExpanded: expanded });\n  }\n  closeNav() {\n    this.setState({ navExpanded: false });\n  }\n  render() {\n    //console.log(this.props);\n    const links = this.props.links;\n    const linksFrame = links.map((entry, i) => <LinkContainer activeClassName=\"active\" key={i} to={`/${entry}`}><Nav.Link>{entry}</Nav.Link></LinkContainer>);\n    return (<div>\n      <Navbar bg=\"light\" variant=\"light\" expand=\"md\" onToggle={this.setNavExpanded.bind(this)} expanded={this.state.navExpanded}>\n        <LinkContainer to={this.props.title}>\n          <a className=\"navbar-brand\" href=\"/\">{this.props.title}</a>\n        </LinkContainer>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto\" onSelect={this.closeNav.bind(this)}>\n            {linksFrame}\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    </div>)\n  }\n}\n","// Login... user logins then backend verifies credentials\nimport React from 'react';\nimport {\n  Redirect\n} from 'react-router-dom';\nimport BannerFrame from '../../../app/components/banner';\n//import FormFrame from '../../../app/components/form';\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      redirect: false\n    };\n  }\n  handleChange(event) {\n    const {\n      value,\n      name\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    fetch('/settings/authenticate', {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      .then(res => {\n        if (res.status === 200) {\n          //this.props.history.push('/');\n          this.setState(() => ({\n            redirect: true\n          }))\n          console.log('redirect', this.state.redirect)\n        } else {\n          const error = new Error(res.error);\n          throw error;\n        }\n      })\n      .catch(err => {\n        console.error(err);\n        alert('Error logging in please try again');\n      });\n  }\n  renderRedirect() {\n    if (this.state.redirect) {\n      return <Redirect to='/admin' />\n    }\n  }\n  componentDidMount() {\n    console.log('\\n');\n    console.log(this.props);\n    console.log(this.state);\n    console.log('\\n');\n  }\n  render() {\n    return (<div>\n        {this.renderRedirect()}\n        <BannerFrame title=\"Login...\" desc=\"Login with your admin credentials.\"/>\n        <hr/>\n        <form onSubmit={this.handleSubmit.bind(this)}>\n          <input\n            type=\"username\"\n            name=\"username\"\n            placeholder=\"Enter username\"\n            value={this.state.username}\n            onChange={this.handleChange.bind(this)}\n            required\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            value={this.state.password}\n            onChange={this.handleChange.bind(this)}\n            required\n          />\n         <input type=\"submit\" value=\"Submit\"/>\n        </form>\n        <hr/>\n      </div>);\n  }\n}\n","import React from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom';\n// middleware\nimport withAuth from './components/withAuth';\n// components\nimport Landing from './pages/landing';\nimport RoutesWrite from './pages/write/routes';\nimport RoutesAdmin from './pages/admin/routes';\nimport RoutesWatch from './pages/watch/routes';\nimport NavFrame from './components/navframe';\nimport Login from './pages/admin/login';\n\nexport default class Routes extends React.Component {\n  callApi = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  componentDidMount() {\n    // load db settings\n    //this.callApi('/settings/mode').then(res => console.log(res)).catch(err => console.log(err));\n  }\n  render() {\n    return (<div>\n      <br/>\n      <NavFrame title=\"Let's Fake News\" links={[\"home\", \"write\", \"watch\", \"admin\"]}/>\n      <br/>\n      <Switch>\n        <Route exact path='/' component={Landing}/>\n        <Route path='/write' component={RoutesWrite}/>\n        <Route path='/admin' component={withAuth(RoutesAdmin)}/>\n        <Route path='/watch' component={RoutesWatch}/>\n        <Route path='/login' component={Login}/>\n        <Redirect to='/'/>\n      </Switch>\n    </div>)\n  }\n}\n","// HOC... take a protected component,\n// ... and if client has valid token passes the component,\n// ... if not redirects them to login\nimport React from 'react';\nimport {\n  Redirect\n} from 'react-router-dom';\n\nexport default function withAuth(ComponentToProtect) {\n  return class extends React.Component {\n    constructor() {\n      super();\n      this.state = {\n        loading: true,\n        redirect: false\n      };\n    }\n    componentDidMount() {\n      fetch('/settings/checkToken')\n        .then(res => {\n          if (res.status === 200) {\n            this.setState({\n              loading: false\n            });\n          } else {\n            const error = new Error(res.error);\n            throw error;\n          }\n        })\n        .catch(err => {\n          console.error(err);\n          console.log('redirecting');\n          this.setState({\n            loading: false,\n            redirect: true\n          });\n        });\n    }\n    render() {\n      if (this.state.loading) {\n        return null;\n      }\n      if (this.state.redirect) {\n        return <Redirect to=\"/login\"/>;\n      }\n      return (\n        <React.Fragment>\n          <ComponentToProtect {...this.props} />\n        </React.Fragment>\n      );\n    }\n  }\n}\n","//import '../node_modules/bootstrap/dist/js/bootstrap.min.js'\n//import '../node_modules/bootstrap-without-jquery/dist/bootstrap-without-jquery.min.js'\n//import '../node_modules/react-bootstrap/dist/react-bootstrap.min.js';\n//import './maximum.css';\nimport './minimum.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  HashRouter\n} from 'react-router-dom';\n\nimport Routes from './app/routes';\n\nconst App = () => (<HashRouter>\n  <Routes/>\n</HashRouter>);\n\nReactDOM.render(<App/>, document.getElementById('react'));\n"],"sourceRoot":""}