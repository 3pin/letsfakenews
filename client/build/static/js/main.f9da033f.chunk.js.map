{"version":3,"sources":["app/components/withAuth.js","app/components/bannerframe.js","app/components/buttonframe.js","app/pages/landing.js","app/pages/write/landing.js","app/components/formframe.js","app/components/writing.js","app/pages/write/story.js","app/pages/write/title.js","app/pages/write/feedback.js","app/pages/write/thankyou.js","app/pages/write/routes.js","app/pages/admin/landing.js","app/pages/admin/stories.js","app/pages/admin/feedback.js","app/pages/admin/routes.js","app/pages/watch/landing.js","app/pages/watch/watch.js","app/pages/watch/routes.js","app/components/navframe.js","app/pages/admin/login.js","app/routes.js","app/components/checkDevice.js","index.js"],"names":["withAuth","ComponentToProtect","_React$Component","_class","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","loading","redirect","inherits","createClass","key","value","_this2","fetch","then","res","status","Error","error","setState","catch","err","console","log","react_default","a","createElement","Redirect","to","Fragment","props","React","Component","BannerFrame","Tag","hsize","title","desc","ButtonFrame","handleClick","variant","buttonLabel","buttonlabel","linkto","Link","Button","onClick","bind","Landing","apiGet","_callee","apiEndPoint","response","body","regenerator_default","wrap","_context","prev","next","sent","json","message","abrupt","stop","bannerframe_BannerFrame","buttonframe_ButtonFrame","FormFrame","e","handleChange","target","handleSubmit","Form","onSubmit","ref","input","focus","className","required","autoFocus","rows","maxLength","length","placeholder","concat","onChange","Story","apiPost","_ref","asyncToGenerator","mark","stateToSubmit","data","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","entry","hydrateSomeStateWithStorage","method","headers","Content-Type","JSON","stringify","text","alert","undefined","Symbol","iterator","done","defineProperty","t0","return","finish","_x","_x2","apply","arguments","assertThisInitialized","sessionStorage","setItem","array","hasOwnProperty","parse","getItem","subject","saveStateToStorage","window","addEventListener","hydrateStateWithStorage","removeEventListener","clear","object","comparison","result","keys","forEach","val","loadStateSubject","renderRedirect","formframe_FormFrame","writeStory","writing_Story","writeTitle","writeFeedback","Thankyou","label","RoutesWrite","Switch","Route","exact","path","component","Title","Feedback","Stories","endpoint","_ref2","_callee2","_context2","_x3","eventSource","EventSource","handleAutolive","handleRefresh","handleClear","handleRemove","handleStorylive","stories","autolive","isChecked","apiAutolive","document","activeElement","blur","apiRefresh","_this3","apiClear","row","_this4","apiRemove","_this5","apiStorylive","_this6","onerror","apiHello","close","_this7","tableStyle","backgroundColor","Table","bordered","style","width","textAlign","type","checked","confirm","hover","map","index","display","_id","story","storylive","feedback","RoutesAdmin","apiCall","render","feedback_Feedback","stories_Stories","LandingWatch","diff","start","end","parseFloat","toFixed","metadata","image_duration","imagesStart","image_locations","urls","url","push","pic_duration","Math","round","markers","i","Watch","handleFullscreen","onReady","onProgress","onEnded","mode","popupStart","popupEnd","imagesEnd","url_index","popup_title","image_frame","image","scroller","playing","controls","volume","progressInterval","container","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","toUpperCase","currentSec","playedSeconds","player","seekTo","dbSettings","node_mode","popup_duration","outerContainer","id","ReactPlayer_default","height","alt","src","RoutesWatch","callApi","NavFrame","navExpanded","expanded","linksFrame","links","lib","activeClassName","Nav","Navbar","bg","expand","onToggle","setNavExpanded","href","Toggle","aria-controls","Collapse","onSelect","closeNav","Login","username","password","event","_event$target","name","preventDefault","nameInput","Routes","navframe_NavFrame","ReactDOM","Container","as","Row","Col","xs","sm","md","lg","xl","HashRouter_default","routes_Routes","getElementById"],"mappings":"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","file":"static/js/main.f9da033f.chunk.js","sourcesContent":["// HOC... take a protected component,\n// ... and if client has valid token passes the component,\n// ... if not redirects them to login\nimport React from 'react';\nimport {\n  Redirect\n} from 'react-router-dom';\n\nexport default function withAuth(ComponentToProtect) {\n  return class extends React.Component {\n    constructor() {\n      super();\n      this.state = {\n        loading: true,\n        redirect: false\n      };\n    }\n    componentDidMount() {\n      fetch('/settings/checkToken')\n        .then(res => {\n          if (res.status === 200) {\n            this.setState({\n              loading: false\n            });\n          } else {\n            const error = new Error(res.error);\n            throw error;\n          }\n        })\n        .catch(err => {\n          console.error(err);\n          console.log('redirecting');\n          this.setState({\n            loading: false,\n            redirect: true\n          });\n        });\n    }\n    render() {\n      if (this.state.loading) {\n        return null;\n      }\n      if (this.state.redirect) {\n        return <Redirect to=\"/login\"/>;\n      }\n      return (\n        <React.Fragment>\n          <ComponentToProtect {...this.props} />\n        </React.Fragment>\n      );\n    }\n  }\n}\n","import React from 'react';\n\nexport default class BannerFrame extends React.Component {\n  render() {\n    let Tag\n    if (this.props.hsize) {\n      Tag = this.props.hsize\n    } else {\n      Tag = \"h4\"\n    }\n    return (<div>\n      <Tag>{this.props.title}</Tag>\n      <p>{this.props.desc}</p>\n    </div>);\n  }\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {Button} from 'react-bootstrap';\n\nexport default class ButtonFrame extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n  }\n  handleClick() {\n    //console.log('Button clicked')\n    if (this.props.handleClick) {\n      this.props.handleClick();\n    }\n  }\n  render() {\n    let variant, buttonLabel;\n    if (this.props.variant) {\n      variant = this.props.variant\n    } else {\n      variant = 'secondary'\n    }\n    if (this.props.buttonlabel) {\n      buttonLabel = this.props.buttonlabel\n    } else {\n      buttonLabel = 'Submit'\n    }\n    if (this.props.linkto) {\n      return (\n        <div>\n          <p>{this.props.desc}</p>\n          <Link to={this.props.linkto}>\n            <Button variant={variant} onClick={this.handleClick.bind(this)}>{buttonLabel}</Button>\n          </Link>\n        </div>\n        )\n    } else {\n      return (\n        <div>\n          <p>{this.props.desc}</p>\n            <Button variant={variant} onClick={this.handleClick.bind(this)}>{buttonLabel}</Button>\n        </div>\n    )\n    }\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../app/components/bannerframe';\nimport ButtonFrame from '../../app/components/buttonframe';\n\nexport default class Landing extends React.Component {\n  apiGet = async (apiEndPoint) => {\n    const response = await fetch(apiEndPoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  componentDidMount() {\n    //this.apiGet('/settings/mode').then((res) => {console.log(res);});\n}\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"About...\" desc=\"Welcome to the LetsFakeNews 24-hour TV service... Al-Jazeera take your stories to display for the world to see.\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write\" buttonlabel=\"Write\" desc=\"Write fakenews on your device (Phone, Desktop etc.)\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/watch\" buttonlabel=\"Watch\" desc=\"Watch fakenews in fullscreen (Desktop only)\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/admin\" buttonlabel=\"Admin\" desc=\"Administer the fakenews (Password required)\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/bannerframe';\nimport ButtonFrame from '../../../app/components/buttonframe';\n\nexport default class Landing extends React.Component {\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Write...\" desc=\"Pretend you're a journalist with a deadline but no news to report. Why not trick the news-room into broadcasting a fake story? To ensure they accept your story use correct spelling, capitalisation etc.\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write/story\" buttonlabel=\"Start\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {Form} from 'react-bootstrap';\nimport ButtonFrame from './buttonframe';\n\nexport default class FormFrame extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n  }\n  handleChange(e) {\n    this.props.handleChange(e.target.value);\n  }\n  //suppress submit if form-action came from the write_story-frame... only accept from write_title-frame\n  handleSubmit() {\n    if (this.props.handleSubmit) {\n      this.props.handleSubmit();\n    }\n  }\n  render() {\n    return (<div>\n      <Form onSubmit={this.handleSubmit.bind(this)}>\n        <div>\n          <textarea\n            ref={function(input) {if (input != null) {input.focus();}}}\n            className=\"form-control form-responsive\"\n            required=\"required\"\n            autoFocus\n            rows={this.props.rows}\n            maxLength={this.props.length}\n            placeholder={`${this.props.length} chars max...`}\n            value={this.props.value}\n            onChange={this.handleChange.bind(this)}>\n          </textarea>\n          <ButtonFrame\n            linkto={this.props.linkto}\n            buttonlabel={this.props.buttonlabel}\n            handleClick={this.handleSubmit.bind(this)}/>\n        </div>\n      </Form>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {\n  Redirect\n} from 'react-router-dom';\nimport BannerFrame from './bannerframe';\nimport FormFrame from './formframe';\n\nexport default class Story extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.apiPost = this.apiPost.bind(this);\n    this.state = {\n      redirect: false\n    }\n  }\n  apiPost = async (apiEndPoint, stateToSubmit) => {\n    //fetch from Storage the data that needs to be POSTED to the API\n    const data = this.hydrateSomeStateWithStorage(stateToSubmit)\n    console.log(data)\n    const response = await fetch(apiEndPoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    const body = await response.text();\n    console.log(body);\n    if (body === 'Story contained no proper words') {\n      alert(body)\n    }\n    /* empty the relevant state entries */\n    for (let entry of stateToSubmit) {\n      this.setState({[entry]: ''});\n    }\n    /* trigger redirect to exit and render next component */\n    this.setState(() => ({\n      redirect: true\n    }))\n  };\n  saveStateToStorage() {\n    // for every item in React state\n    for (let key in this.state) {\n      // save to storage\n      sessionStorage.setItem(key, JSON.stringify(this.state[key]));\n    }\n  }\n  hydrateSomeStateWithStorage(array) {\n    const data = {};\n    for (let entry in array) {\n      // if the key exists in Storage\n      if (sessionStorage.hasOwnProperty(array[entry])) {\n        // get the key's value from Storage\n        let value = JSON.parse(sessionStorage.getItem(array[entry]));\n        data[array[entry]] = value;\n      }\n    }\n    return data\n  }\n  hydrateStateWithStorage() {\n    // if the key exists in Storage\n    if (sessionStorage.hasOwnProperty(this.props.subject)) {\n      // get the key's value from Storage\n      let value = sessionStorage.getItem(this.props.subject);\n      // parse the Storage string and setState\n      try {\n        value = JSON.parse(value);\n        this.setState({\n          [this.props.subject]: value\n        });\n      } catch (e) {\n        // handle empty string\n        this.setState({\n          [this.props.subject]: value\n        });\n      }\n    }\n  }\n  handleChange(value) {\n    this.setState({\n      [this.props.subject]: value\n    });\n  }\n  handleSubmit() {\n    if (this.props.stateToSubmit) {\n      //save state to storage\n      this.saveStateToStorage();\n      this.apiPost(this.props.apiEndPoint, this.props.stateToSubmit);\n    }\n  }\n  componentWillMount() {\n    // add event listener to save state to Storage when user leaves/refreshes the page\n    window.addEventListener(\"beforeunload\", this.saveStateToStorage.bind(this));\n  }\n  componentDidMount() {\n    // if Storage has values, pass them to this.state\n    this.hydrateStateWithStorage();\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"beforeunload\", this.saveStateToStorage.bind(this));\n    if (this.state.redirect) {\n      /* empty storage */\n      sessionStorage.clear();\n    } else {\n      /* save to storage */\n      this.saveStateToStorage();\n    }\n  }\n  loadStateSubject(object, comparison) {\n    let result;\n    Object.keys(object).forEach(function (key) {\n      if (key === comparison) {\n        result = object[key]\n      }\n    })\n    return result\n  }\n  renderRedirect() {\n    if (this.state.redirect) {\n      return <Redirect to={this.props.redirect} />\n    }\n  }\n  render() {\n    const val = this.loadStateSubject(this.state, this.props.subject);\n    return (<div>\n        {this.renderRedirect()}\n        <section>\n          <BannerFrame\n            hsize='h4'\n            title={this.props.title}\n            desc={this.props.desc}/>\n          <hr/>\n          <FormFrame\n            rows={this.props.rows}\n            length={this.props.length}\n            linkto={this.props.linkto}\n            value={val}\n            handleChange={this.handleChange.bind(this)}\n            handleSubmit={this.handleSubmit.bind(this)}/>\n          <hr/>\n        </section>\n      </div>)\n  }\n}\n","import React from 'react';\n\nimport Writing from '../../components/writing';\n\nexport default class writeStory extends React.Component {\n  render() {\n    return (<div>\n      <section>\n        <Writing\n          title=\"Write a story...\"\n          desc=\"Make up a fake-news story\"\n          rows=\"4\" length=\"280\"\n          subject='story'\n          linkto=\"/write/title\"\n          />\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport Writing from '../../components/writing';\n\nexport default class writeTitle extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n}\n  render() {\n    return (<div>\n      <section>\n        <Writing\n          title=\"Add a title...\"\n          desc=\"Give a title to your story\"\n          rows=\"1\" length=\"25\"\n          subject=\"title\"\n          apiEndPoint=\"/write/news\"\n          stateToSubmit={[\"story\",\"title\"]}\n          redirect=\"/write/thankyou\"\n          />\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport Writing from '../../components/writing';\n\nexport default class writeFeedback extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n}\n  render() {\n    return (<div>\n      <section>\n        <Writing\n          title=\"Give your feedback...\"\n          desc=\"Give us your response to writing & watching fake-news with us\"\n          rows=\"4\" length=\"280\"\n          subject=\"feedback\"\n          apiEndPoint=\"/write/feedback\"\n          stateToSubmit={[\"feedback\"]}\n          redirect=\"/write/thankyou\"\n          />\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/bannerframe';\nimport ButtonFrame from '../../../app/components/buttonframe';\n\nexport default class Thankyou extends React.Component {\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Thank you...\" desc=\"We hope you enjoyed writing real fake-news\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write/story\" label=\"restart\" desc=\"Write more fake news\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write/feedback\" label=\"feedback\" desc=\"Leave your feedback for the LetsFakeNews team\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\n\nimport Landing from './landing';\nimport Story from './story';\nimport Title from './title';\nimport Feedback from './feedback';\nimport Thankyou from './thankyou';\n\nexport default class RoutesWrite extends React.Component {\n  render() {\n    return (<div>\n      <Switch>\n        <Route exact path=\"/write\" component={Landing}/>\n        <Route path=\"/write/story\" component={Story}/>\n        <Route path=\"/write/title\" component={Title}/>\n        <Route path=\"/write/feedback\" component={Feedback}/>\n        <Route path=\"/write/thankyou\" component={Thankyou}/>\n        <Redirect to=\"/write\"/>\n      </Switch>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/bannerframe';\nimport ButtonFrame from '../../../app/components/buttonframe';\n\nexport default class Landing extends React.Component {\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Admin...\" desc=\"Use the following buttons to administer the databases\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/admin/stories\" buttonlabel=\"Stories\" desc=\"Administer stories as they are submitted\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/admin/feedback\" buttonlabel=\"Feedback\" desc=\"View feedback from users\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\nimport BannerFrame from '../../../app/components/bannerframe';\nimport 'eventsource-polyfill';\nimport {Table, Button} from 'react-bootstrap';\n\nexport default class Stories extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log('NODE_ENV: ' + process.env.NODE_ENV)\n    if (process.env.NODE_ENV === 'production') {\n      this.eventSource = new EventSource('/settings/sse');\n    } else {\n      this.eventSource = new EventSource(`http://localhost:5000/settings/sse`);\n    }\n    //\n    this.apiGet = this.apiGet.bind(this);\n    this.apiPost = this.apiPost.bind(this);\n    this.handleAutolive = this.handleAutolive.bind(this);\n    this.handleRefresh = this.handleRefresh.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n    this.handleStorylive = this.handleStorylive.bind(this);\n    //\n    this.state = {\n      stories: [],\n      autolive: false\n    };\n  }\n  apiGet = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    else\n      return body;\n  }\n  apiPost = async (endpoint, data) => {\n    const response = await fetch(endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  };\n  handleAutolive(isChecked) {\n    /* update status of autolive */\n    this.apiGet(this.props.apiAutolive).then((res) => this.setState({\n      autolive: JSON.parse(res.autolive)\n    })).catch(err => console.log(err));\n  }\n  handleRefresh() {\n    /* Connect to API to refresh imagery */\n    document.activeElement.blur();\n    this.apiGet(this.props.apiRefresh).then(res => console.log(res)).catch(err => console.log(err));\n  }\n  handleClear() {\n    /* Connect to API and clear all from database */\n    document.activeElement.blur();\n    /* Connect to API and clear feedback from database */\n    let data = {\n      subject: this.props.title\n    }\n    this.apiPost(this.props.apiClear, data).then(res => this.setState({\n      stories: res.data\n    })).catch(err => console.log(err));\n  }\n  handleRemove(row) {\n    document.activeElement.blur();\n    /* Connect to API and delete single entry from database */\n    this.apiPost(this.props.apiRemove, row).then((res) => this.setState({\n      stories: res.stories\n    })).catch(err => console.log(err));\n  }\n  handleStorylive(row) {\n    /* Connect to API to update storylive-setting for entry in database */\n    this.apiPost(this.props.apiStorylive, row).then((res) => this.setState({\n      stories: res.stories\n    })).catch(err => console.log(err));\n  }\n  componentDidMount() {\n    /* open sse listener */\n    this.eventSource.addEventListener('story', (e) => {\n      console.log('A new story was processed by the backend');\n      this.setState({stories: JSON.parse(e.data)});\n    });\n    // Catches errors\n    this.eventSource.onerror = (e) => {\n      console.log(\"--- SSE EVENTSOURCE ERROR: \", e);\n    };\n    /* load autolive-status & stories from Db */\n    this.apiGet(this.props.apiHello)\n    .then((res) => {\n      this.setState({autolive: JSON.parse(res.autolive), stories: res.stories})\n      console.log(res);\n    }).catch(err => console.log(err));\n}\ncomponentWillUnmount() {\n  /* close sse listener */\n  this.eventSource.close();\n}\nrender() {\n  const tableStyle = {\n    backgroundColor: \"white\"\n  }\n  let variant;\n  if (this.props.variant) {\n    variant = this.props.variant\n  } else {\n    variant = 'danger'\n  }\n  return (<div>\n      <BannerFrame desc={this.props.desc} title={this.props.title}/>\n      <hr/>\n      <Table bordered style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"95%\"\n              }}>Command</th>\n            <th style={{\n                width: \"5%\"\n              }}>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Set new stories to go live automatically</td>\n            <td style={{textAlign: \"center\"}}><input type=\"checkbox\" checked={this.state.autolive} onChange={this.handleAutolive.bind(this)} className=\"form-check-input show_tip autolive\"/>\n            </td>\n          </tr>\n          <tr>\n            <td>Refresh imagery for all stories</td>\n            <td>\n              <Button variant={variant} onClick={this.handleRefresh.bind(this)}></Button>\n            </td>\n          </tr>\n          <tr>\n            <td>Clear all stories from database</td>\n            <td>\n              <Button variant={variant} onClick={() => { window.confirm('Are you sure you wish to delete this item?') ? this.handleClear() : document.activeElement.blur() } }></Button>\n            </td>\n          </tr>\n        </tbody>\n      </Table>\n      <hr/>\n      <Table ref='table_stories' bordered hover style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"5%\"\n              }}>#</th>\n            <th style={{\n                width: \"20%\"\n              }}>Title</th>\n            <th style={{\n                width: \"65%\"\n              }}>Story</th>\n            <th style={{\n                width: \"6%\"\n              }}>Delete</th>\n            <th style={{\n                width: \"4%\"\n              }}>Live</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            (this.state.stories.length > 0)\n              ? this.state.stories.map((entry, index) => {\n                return (<tr key={index}>\n                  <td style={{display:'none'}}>{entry._id}</td>\n                  <td>{index + 1}</td>\n                  <td>{entry.title}</td>\n                  <td>{entry.story}</td>\n                  <td>\n                    <Button variant={variant} onClick={() => this.handleRemove(entry)}></Button>\n                  </td>\n                  <td style={{textAlign:'center'}}><input type=\"checkbox\" checked={entry.storylive===true ? true : false} onChange={() => this.handleStorylive(entry)} className=\"form-check-input show_tip autolive\"/></td>\n                </tr>)\n              })\n              : <tr></tr>\n          }\n        </tbody>\n      </Table>\n      <hr/>\n    </div>)\n}\n}\n","import React from 'react';\nimport BannerFrame from '../../../app/components/bannerframe';\nimport 'eventsource-polyfill';\nimport {Table, Button} from 'react-bootstrap';\n\nexport default class Feedback extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log('NODE_ENV: ' + process.env.NODE_ENV)\n    if (process.env.NODE_ENV === 'production') {\n      this.eventSource = new EventSource('/settings/sse');\n    } else {\n      this.eventSource = new EventSource(`http://localhost:5000/settings/sse`);\n    }\n    this.apiGet = this.apiGet.bind(this);\n    this.apiPost = this.apiPost.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n    this.state = {\n      feedback: []\n    };\n  }\n  apiGet = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  apiPost = async (endpoint, data) => {\n    const response = await fetch(endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  };\n  handleClear() {\n    /* Connect to API and clear all from database */\n    document.activeElement.blur();\n    /* Connect to API and clear feedback from database */\n    let data = {\n      subject: this.props.title\n    }\n    this.apiPost(this.props.apiClear, data).then(res => this.setState({\n      feedback: res.data\n    })).catch(err => console.log(err));\n  }\n  componentDidMount() {\n    /* open sse listener */\n    this.eventSource.addEventListener('feedback', (e) => {\n      console.log('A new feedback was processed by the backend');\n      this.setState({feedback: JSON.parse(e.data)});\n    });\n    // Catche errors\n    this.eventSource.onerror = (e) => {\n      console.log(\"--- SSE EVENTSOURCE ERROR: \", e);\n    };\n    /* load database into this.state */\n    this.apiGet(this.props.apiHello).then(res => this.setState({\n      feedback: res.feedback\n    })).catch(err => console.log(err));\n  }\n  componentWillUnmount() {\n    /* close sse listener */\n    this.eventSource.close();\n  }\n  render() {\n    const tableStyle = {\n      backgroundColor: \"white\"\n    }\n    let variant;\n    if (this.props.variant) {\n      variant = this.props.variant\n    } else {\n      variant = 'danger'\n    }\n    return (<div>\n      <BannerFrame desc={this.props.desc} title={this.props.title}/>\n      <hr/>\n      <Table bordered style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"95%\"\n              }}>Command</th>\n            <th style={{\n                width: \"5%\"\n              }}>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Clear all entries from database</td>\n            <td>\n              <Button variant={variant} onClick={() => { window.confirm('Are you sure you wish to delete this item?') ? this.handleClear() : document.activeElement.blur() } }></Button>\n            </td>\n          </tr>\n        </tbody>\n      </Table>\n      <hr/>\n      <Table bordered style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"5%\"\n              }}>#</th>\n            <th style={{\n                width: \"95%\"\n              }}>Feedback</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            (this.state.feedback.length > 0)\n              ? this.state.feedback.map((entry, index) => {\n                return (<tr key={index}>\n                  <td>{index + 1}</td>\n                  <td>{entry.feedback}</td>\n                </tr>)\n              })\n              : <tr></tr>\n          }\n        </tbody>\n      </Table>\n      <hr/>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\n\nimport Landing from './landing';\nimport Stories from './stories';\nimport Feedback from './feedback';\n\nexport default class RoutesAdmin extends React.Component {\n  constructor() {\n    super();\n    //this.handleChange = this.handleChange.bind(this);\n    this.apiCall = this.apiCall.bind(this);\n    //this.apiPost = this.apiPost.bind(this);\n    //this.state = {story: \"\",title: \"\",feedback: \"\"}\n  }\n  apiCall = async (apiEndPoint) => {\n    const response = await fetch(apiEndPoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  componentDidMount() {\n    // say hello into the backend server\n    //this.apiCall(this.props.match.url).then(res => console.log(res)).catch(err => console.log(err));\n  }\n  render() {\n    return (<div className=\"layout\">\n      <Switch>\n        <Route exact path=\"/admin\" component={Landing}/>\n        <Route path=\"/admin/feedback\" render={() =>\n          <Feedback\n          title=\"Feedback\"\n          desc=\"Use this page to view user feedback in realtime\"\n          apiHello=\"/admin/feedback\"\n          apiClear=\"/admin/clear\"\n          />\n        }/>\n        <Route path=\"/admin/stories\" render={() =>\n          <Stories\n          title=\"Stories\"\n          desc=\"Use this page to moderate fakenews stories in realtime\"\n          apiHello=\"/admin/stories\"\n          apiAutolive=\"/admin/stories/autolive\"\n          apiRefresh=\"/admin/stories/refresh\"\n          apiClear=\"/admin/clear\"\n          apiRemove=\"/admin/story/remove\"\n          apiStorylive=\"/admin/story/storylive\"\n          />\n        }/>\n        <Redirect to=\"/admin\"/>\n      </Switch>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/bannerframe';\nimport ButtonFrame from '../../../app/components/buttonframe';\n\nexport default class LandingWatch extends React.Component {\n\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Watch...\" desc=\"Open this link on a desktop browser, set to fullscreen and enjoy the show!\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/watch/display\" buttonlabel=\"Watch\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\nimport ReactPlayer from 'react-player';\nimport ButtonFrame from '../../components/buttonframe';\n\n// func to calc timing-durations\nconst diff = (start, end) => {\n  return parseFloat((end - start).toFixed(1))\n}\n// function process-multimedia-metadata\nconst metadata = (data, image_duration, imagesStart) => {\n  // load imge_URLS\n  let image_locations = data.urls;\n  let urls = []\n  for (var url in image_locations) {\n    urls.push(image_locations[url]);\n  }\n  // calculate multimedia metadata\n  let pic_duration = Math.round(image_duration / urls.length);\n  let markers = []\n  for (let i = 1; i <= urls.length; i++) {\n    markers.push(Math.round(imagesStart + pic_duration * i));\n  }\n  return {\n    urls: urls,\n    markers: markers\n  }\n}\n\nexport default class Watch extends React.Component {\n  constructor(props) {\n    super(props);\n    //\n    this.apiGet = this.apiGet.bind(this);\n    this.handleFullscreen = this.handleFullscreen.bind(this);\n    this.onReady = this.onReady.bind(this);\n    this.onProgress = this.onProgress.bind(this);\n    this.onEnded = this.onEnded.bind(this);\n    //\n    this.state = {\n      mode: \"\",\n      //timings\n      popupStart: 6.2,\n      popupEnd: 11.3,\n      imagesStart: 17.6,\n      imagesEnd: 41.1,\n      // story data\n      title: \"\",\n      story: \"\",\n      urls: [],\n      markers: [],\n      // array index for currently-displayed image from url-array\n      url_index: 0,\n      // interface elements visibility\n      popup_title: {\n        display: 'none'\n      },\n      image_frame: {\n        display: 'none'\n      },\n      image: {\n        display: 'none'\n      },\n      scroller: {\n        display: 'none'\n      },\n      playing: false,\n      controls: false,\n      volume: 1,\n      progressInterval: 500,\n      url: \"https://res.cloudinary.com/hi58qepi6/video/upload/v1548956607/aljazeera-desktop.mp4\"\n    }\n  }\n  apiGet = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  handleFullscreen() {\n    document.activeElement.blur();\n    console.log('button fullscreen pressed');\n    if (this.state.playing === false) {\n      this.setState({\n        playing: true\n      });\n    } else {\n      this.setState({\n        playing: false\n      });\n    }\n    let i = this.container;\n    // go full-screen with cross-browser support\n    if (i.requestFullscreen) {\n      i.requestFullscreen();\n    } else if (i.webkitRequestFullscreen) {\n      i.webkitRequestFullscreen();\n    } else if (i.mozRequestFullScreen) {\n      i.mozRequestFullScreen();\n    } else if (i.msRequestFullscreen) {\n      i.msRequestFullscreen()\n    }\n  }\n  onReady() {\n    console.log('ready');\n    /* load new story into this.state */\n    this.apiGet('/watch/request_new_story')\n      .then((res) => this.setState({\n        title: res.data.title.toUpperCase(),\n        story: res.data.story,\n        urls: metadata(res.data, this.state.image_duration, this.state.imagesStart).urls,\n        markers: metadata(res.data, this.state.image_duration, this.state.imagesStart).markers\n      }))\n      .then(() => console.log(this.state))\n      .catch(err => console.log(err))\n  }\n  onProgress(e) {\n    /* change url-image according to markers... */\n    let currentSec = e.playedSeconds;\n    if (currentSec >= this.state.markers[this.state.url_index]) {\n      //console.log('marker passed');\n      this.setState({\n        url_index: this.state.url_index + 1\n      });\n      //console.log(this.state.urls[this.state.url_index]);\n    }\n    /* change interface according to markers */\n    if (currentSec >= this.state.popupStart && currentSec <= this.state.popupEnd) {\n      //console.log('popup & title should be visible');\n      this.setState({\n        popup_title: {\n          display: 'block'\n        }\n      });\n    } else if (currentSec >= this.state.imagesStart && currentSec <= this.state.imagesEnd) {\n      //console.log('images & scroller should be visible');\n      this.setState({\n        popup_title: {\n          display: 'none'\n        },\n        image_frame: {\n          display: 'block'\n        },\n        image: {\n          display: 'block'\n        },\n        scroller: {\n          display: 'block'\n        }\n      });\n    } else {\n      this.setState({\n        popup_title: {\n          display: 'none'\n        },\n        image_frame: {\n          display: 'none'\n        },\n        image: {\n          display: 'none'\n        },\n        scroller: {\n          display: 'none'\n        }\n      });\n    }\n  }\n  onEnded() {\n    this.player.seekTo(0);\n  }\n  componentWillMount() {\n    console.log('componentWillMount');\n    // load db settings... load 'mode' into localStorage\n    this.apiGet('/settings/mode').then(res => {\n      //console.log(res);\n      //sessionStorage.setItem('node_mode', res.dbSettings.node_mode);\n      this.setState({\n        mode: res.dbSettings.node_mode\n      });\n    }).then(() => {\n      if (this.state.mode === 'production') {\n        this.setState({\n          playing: false,\n          controls: false,\n          volume: 1\n        });\n      } else {\n        this.setState({\n          playing: true,\n          controls: true,\n          volume: 0\n        });\n      }\n    }).catch(err => console.log(err));\n    /* calculate durations */\n    this.setState({\n      popup_duration: diff(this.state.popupStart, this.state.popupEnd),\n      image_duration: diff(this.state.imagesStart, this.state.imagesEnd)\n    });\n  }\n  componentDidMount() {\n    console.log('componentDidMount');\n    //this.player.seekTo(0);\n  }\n  render() {\n    return (\n      <div>\n        <ButtonFrame\n          desc='Playback compatible with desktop browser only (not mobile)'\n          buttonlabel='PLAY'\n          handleClick={this.handleFullscreen.bind(this.outerContainer)}/>\n        <hr/>\n        <div className=\"media\" id=\"outerContainer\" ref={outerContainer => { this.outerContainer=outerContainer }}>\n          <div id=\"videoContainer\" ref={container => { this.container=container }} className=\"media-player\">\n            <ReactPlayer\n            id=\"videoPlayer\"\n            className='react-player'\n            volume={this.state.volume}\n            width='100%'\n            height='100%'\n            ref={player => { this.player=player }}\n            controls={this.state.controls}\n            progressInterval = {this.state.progressInterval}\n            playing={this.state.playing}\n            onReady={this.onReady.bind(this)}\n            onProgress={this.onProgress.bind(this)}\n            onEnded={this.onEnded.bind(this)}\n            url={this.state.url}\n            />\n            <div id=\"popup_title\" style={this.state.popup_title}>\n              <p id=\"popup_title_text\">{this.state.title}</p>\n            </div>\n            <div id=\"image_frame\" style={this.state.image_frame}>\n              <img id=\"image\" alt=\"\" src={this.state.urls[this.state.url_index]} style={this.state.image}/>\n            </div>\n            <div id=\"scroller\" className=\"scroll-left\" style={this.state.scroller}>\n              <p id=\"scroller_text\">{this.state.story}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\n\nimport Landing from './landing';\nimport Watch from './watch';\n\nexport default class RoutesWatch extends React.Component {\n\n  callApi = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  componentDidMount() {\n    // load the activelist for display purposes\n    //this.callApi(this.props.match.url).then(res => console.log('Activelist loaded')).catch(err => console.log(err));\n  }\n  render() {\n    return (<div className=\"layout\">\n      <Switch>\n        <Route exact path=\"/watch\" component={Landing}/>\n        <Route path=\"/watch/display\" component={Watch}/>\n        <Redirect to=\"/watch\"/>\n      </Switch>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {Navbar, Nav} from 'react-bootstrap';\nimport {LinkContainer} from \"react-router-bootstrap\";\n//\nexport default class NavFrame extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      navExpanded: false\n    };\n  }\n  getInitialState () {\n    return {\n      navExpanded: false\n    }\n  }\n  setNavExpanded(expanded) {\n    this.setState({ navExpanded: expanded });\n  }\n  closeNav() {\n    this.setState({ navExpanded: false });\n  }\n  render() {\n    //console.log(this.props);\n    const links = this.props.links;\n    const linksFrame = links.map((entry, i) => <LinkContainer activeClassName=\"active\" key={i} to={`/${entry}`}><Nav.Link>{entry}</Nav.Link></LinkContainer>);\n    return (<div>\n      <Navbar bg=\"light\" variant=\"light\" expand=\"md\" onToggle={this.setNavExpanded.bind(this)} expanded={this.state.navExpanded}>\n        <LinkContainer to={this.props.title}>\n          <a className=\"navbar-brand\" href=\"/\">{this.props.title}</a>\n        </LinkContainer>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto\" onSelect={this.closeNav.bind(this)}>\n            {linksFrame}\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    </div>)\n  }\n}\n","// Login... user logins then backend verifies credentials\nimport React from 'react';\nimport {Form, Button} from 'react-bootstrap';\nimport {\n  Redirect\n} from 'react-router-dom';\nimport BannerFrame from '../../../app/components/bannerframe';\n//import FormFrame from '../../../app/components/formframe';\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      redirect: false\n    };\n  }\n  handleChange(event) {\n    const {\n      value,\n      name\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    fetch('/settings/authenticate', {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      .then(res => {\n        if (res.status === 200) {\n          //this.props.history.push('/');\n          this.setState(() => ({\n            redirect: true\n          }))\n          console.log('redirect', this.state.redirect)\n        } else {\n          this.setState(() => ({\n            username: '',\n            password: ''\n          }))\n          this.nameInput.focus()\n          const error = new Error(res.error);\n          throw error;\n        }\n      })\n      .catch(err => {\n        console.error(err);\n        alert('Error logging in please try again');\n      });\n  }\n  renderRedirect() {\n    if (this.state.redirect) {\n      return <Redirect to='/admin' />\n    }\n  }\n  componentDidMount() {\n    console.log('\\n');\n    console.log(this.props);\n    console.log(this.state);\n    console.log('\\n');\n    this.nameInput.focus()\n  }\n  render() {\n    return (<div>\n        {this.renderRedirect()}\n        <BannerFrame title=\"Login...\" desc=\"Admin access requires authorisation...\"/>\n        <hr/>\n        <Form onSubmit={this.handleSubmit.bind(this)}>\n          <input\n            type=\"username\"\n            name=\"username\"\n            ref={(input) => { this.nameInput = input; }}\n            placeholder=\"Enter username\"\n            value={this.state.username}\n            onChange={this.handleChange.bind(this)}\n            required/>\n          <br/>\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            value={this.state.password}\n            onChange={this.handleChange.bind(this)}\n            required/>\n          <br/>\n          <br/>\n         <Button variant=\"secondary\" type=\"submit\">Submit</Button>\n        </Form>\n        <hr/>\n      </div>);\n  }\n}\n","import React from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom';\n// middleware\nimport withAuth from './components/withAuth';\nimport checkDevice from './components/checkDevice';\n// components\nimport Landing from './pages/landing';\nimport RoutesWrite from './pages/write/routes';\nimport RoutesAdmin from './pages/admin/routes';\nimport RoutesWatch from './pages/watch/routes';\nimport NavFrame from './components/navframe';\nimport Login from './pages/admin/login';\n\nexport default class Routes extends React.Component {\n  callApi = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  componentDidMount() {\n    // load db settings\n    //this.callApi('/settings/mode').then(res => console.log(res)).catch(err => console.log(err));\n  }\n  render() {\n    return (<div>\n      <br/>\n      <NavFrame title=\"LetsFakeNews\" links={[\"home\", \"write\", \"watch\", \"admin\"]}/>\n      <br/>\n      <Switch>\n        <Route exact path='/' component={Landing}/>\n        <Route path='/write' component={RoutesWrite}/>\n        <Route path='/watch' component={checkDevice(RoutesWatch)}/>\n        <Route path='/admin' component={withAuth(RoutesAdmin)}/>\n        <Route path='/login' component={Login}/>\n        <Redirect to='/'/>\n      </Switch>\n    </div>)\n  }\n}\n","// HOC... take a protected component,\n// ... and if client has valid token passes the component,\n// ... if not redirects them to login\nimport React from 'react';\nimport {\n  Redirect\n} from 'react-router-dom';\n\nexport default function checkDevice(ComponentToProtect) {\n  return class extends React.Component {\n    constructor() {\n      super();\n      this.state = {\n        loading: true,\n        redirect: false\n      };\n    }\n    componentDidMount() {\n      fetch('/settings/checkDevice')\n        .then(res => {\n          if (res.status === 200) {\n            console.log('This is a Desktop device');\n            this.setState({\n              loading: false\n            });\n          } else {\n            console.log('This is NOT a Desktop device');\n            const error = new Error(res.error);\n            throw error;\n          }\n        })\n        .catch(err => {\n          console.error(err);\n          console.log('redirecting');\n          this.setState({\n            loading: false,\n            redirect: true\n          });\n          alert(\"Only desktop browsers can access the LetsFakeNews service\");\n        });\n    }\n    render() {\n      if (this.state.loading) {\n        return null;\n      }\n      if (this.state.redirect) {\n        return <Redirect to=\"/\"/>;\n      }\n      return (\n        <React.Fragment>\n          <ComponentToProtect {...this.props} />\n        </React.Fragment>\n      );\n    }\n  }\n}\n","// REACT JS\nimport '../node_modules/react/cjs/react.production.min.js';\nimport '../node_modules/react-dom/cjs/react-dom.production.min.js';\nimport '../node_modules/react-bootstrap/dist/react-bootstrap.min.js';\n// styles\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './minimum.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport HashRouter from 'react-router-dom/HashRouter';\nimport { Container,Row,Col } from 'react-bootstrap';\n\nimport Routes from './app/routes';\n\nconst App = () => (\n  <Container as='main'>\n    <Row>\n      <Col as='aside' xs={1} sm={1} md={1} lg={1} xl={1}/>\n      <Col as='article' xs={10} sm={10} md={10} lg={10} xl={10}>\n        <HashRouter>\n          <Routes/>\n        </HashRouter>\n      </Col>\n      <Col as='aside' xs={1} sm={1} md={1} lg={1} xl={1}/>\n    </Row>\n  </Container>\n);\n\nReactDOM.render(<App/>, document.getElementById('react'));\n"],"sourceRoot":""}