{"version":3,"sources":["app/components/banner.js","app/components/button.js","app/pages/landing.js","app/pages/write/landing.js","app/components/form.js","app/pages/write/writing.js","app/pages/write/thankyou.js","app/pages/write/index_write.js","app/pages/admin/landing.js","app/pages/admin/stories.js","app/pages/admin/feedback.js","app/pages/admin/index_admin.js","app/pages/watch/landing.js","app/pages/watch/watch.js","app/pages/watch/index_watch.js","app/components/navframe.js","app/pages/index.js","index.js"],"names":["BannerFrame","Tag","this","props","hsize","react_default","a","createElement","title","desc","React","Component","ButtonFrameForm","handleClick","buttonLabel","buttonlabel","Link","to","linkto","type","onClick","bind","className","Landing","banner_BannerFrame","button_ButtonFrameForm","FormFrame","e","handleChange","target","value","handleSubmit","onSubmit","ref","input","focus","required","autoFocus","rows","maxLength","length","placeholder","concat","onChange","Story","console","log","key","subject","localStorage","setItem","apiEndPoint","entriesToSend","form_FormFrame","Thankyou","label","IndexWrite","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","apiCall","_ref","asyncToGenerator","regenerator_default","mark","_callee","response","body","wrap","_context","prev","next","fetch","sent","json","status","Error","message","abrupt","stop","_x","apply","arguments","apiPost","_ref2","_callee2","data","item","_item","_context2","state","JSON","stringify","method","headers","Content-Type","text","setState","defineProperty","saveStateToLocalStorage","_x2","_x3","assertThisInitialized","story","feedback","hasOwnProperty","getItem","parse","path","then","res","catch","err","hydrateStateWithLocalStorage","window","addEventListener","removeEventListener","_this2","Switch","Route","exact","component","render","writing_Story","Redirect","Stories","apiGet","endpoint","process","eventSource","EventSource","handleAutolive","handleRefresh","handleClear","handleRemove","handleStorylive","stories","autolive","isChecked","apiAutolive","document","activeElement","blur","apiRefresh","_this3","apiClear","row","_this4","apiRemove","_this5","apiStorylive","_this6","onerror","apiHello","_this7","tableStyle","backgroundColor","style","width","textAlign","checked","confirm","map","entry","index","display","_id","storylive","Feedback","close","IndexAdmin","feedback_Feedback","stories_Stories","LandingWatch","diff","start","end","parseFloat","toFixed","metadata","image_duration","imagesStart","image_locations","urls","url","push","pic_duration","Math","round","markers","i","Watch","handleFullscreen","onReady","onProgress","onEnded","mode","popupStart","popupEnd","imagesEnd","url_index","popup_title","image_frame","image","scroller","playing","controls","volume","progressInterval","container","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","toUpperCase","currentSec","playedSeconds","player","seekTo","popup_duration","id","outerContainer","ReactPlayer_default","height","alt","src","IndexWatch","callApi","IndexLanding","linksFrame","links","lib","activeClassName","Nav","Navbar","bg","variant","expand","href","Toggle","aria-controls","Collapse","Index","navframe_IndexLanding","index_write_IndexWrite","index_admin_IndexAdmin","ReactDOM","BrowserRouter","pages_Index","getElementById"],"mappings":"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","file":"static/js/main.5c1844fa.chunk.js","sourcesContent":["import React from 'react';\n\nexport default class BannerFrame extends React.Component {\n  render() {\n    let Tag\n    if (this.props.hsize) {\n      Tag = this.props.hsize\n    } else {\n      Tag = \"h4\"\n    }\n    return (<div>\n      <Tag>{this.props.title}</Tag>\n      <p>{this.props.desc}</p>\n    </div>);\n  }\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nexport default class ButtonFrameForm extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n  }\n  handleClick() {\n    //console.log('Button clicked')\n    if (this.props.handleClick) {\n      this.props.handleClick();\n    }\n  }\n  render() {\n    let buttonLabel;\n    if (this.props.buttonlabel) {\n      buttonLabel = this.props.buttonlabel\n    } else {\n      buttonLabel = 'Submit'\n    }\n    return (<div>\n      <p>{this.props.desc}</p>\n      <Link to={this.props.linkto}>\n        <button type=\"button\"\n        onClick={this.handleClick.bind(this)}\n        className=\"btn btn-primary btn-responsive\">{buttonLabel}</button>\n      </Link>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../app/components/banner';\nimport ButtonFrame from '../../app/components/button';\n\nexport default class Landing extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n}\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"About...\" desc=\"Welcome to the LetsFakeNews 24-hour TV service where we take your fake-news without judgement and display it for the world to see.\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write\" buttonlabel=\"Write\" desc=\"Write fakenews (using your browser)\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/watch\" buttonlabel=\"Watch\" desc=\"Watch fakenews in fullscreen (desktop browsers only)\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/admin\" buttonlabel=\"Admin\" desc=\"Administer fakenews (requires admin login)\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/banner';\nimport ButtonFrame from '../../../app/components/button';\n\nexport default class Landing extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n}\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Write...\" desc=\"Pretend you're a journalist with a deadline but no news to report so you're going to fake it! Try to trick the Al-Jazeera news-room into broadcasting your fake story, then wait to see if it appears on the public screen. To ensure the news-room accept your story, be grammatically correct with spelling, capitalisation etc.\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write/story\" buttonlabel=\"Start\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n//import {Link} from 'react-router-dom';\n\nimport ButtonFrame from './button';\n\nexport default class FormFrame extends React.Component {\n  componentDidMount() {\n    //console.log(this.props);\n  }\n  handleChange(e) {\n    this.props.handleChange(e.target.value);\n  }\n  //suppress submit if form-action came from the write_story-frame... only accept from write_title-frame\n  handleSubmit() {\n    if (this.props.handleSubmit) {\n      this.props.handleSubmit();\n    }\n  }\n  render() {\n    return (<div>\n      <form onSubmit={this.handleSubmit.bind(this)}>\n        <div>\n          <textarea\n          ref={function(input) {if (input != null) {input.focus();}}}\n          className=\"form-control form-responsive\"\n          required=\"required\"\n          autoFocus\n          rows={this.props.rows}\n          maxLength={this.props.length}\n          placeholder={`${this.props.length} chars max...`}\n          value={this.props.value}\n          onChange={this.handleChange.bind(this)}>\n          </textarea>\n\n          <ButtonFrame\n          linkto={this.props.linkto}\n          buttonlabel={this.props.buttonlabel}\n          handleClick={this.handleSubmit.bind(this)}/>\n        </div>\n      </form>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/banner';\nimport FormFrame from '../../../app/components/form';\n\nexport default class Story extends React.Component {\n  componentDidMount() {\n    //console.log(this.state);\n    console.log(this.props);\n  }\n  handleChange(value) {\n    let key = this.props.subject\n    this.props.handleChange(key, value);\n    // update localStorage\n    localStorage.setItem(key, value);\n  }\n  handleSubmit() {\n    if (this.props.handleSubmit) {\n      this.props.handleSubmit(this.props.apiEndPoint, this.props.entriesToSend);\n    }\n  }\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame hsize='h4' title={this.props.title} desc={this.props.desc}/>\n        <hr/>\n        <FormFrame rows={this.props.rows} length={this.props.length} linkto={this.props.linkto} value={this.props.value} handleChange={this.handleChange.bind(this)} handleSubmit={this.handleSubmit.bind(this)}/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/banner';\nimport ButtonFrame from '../../../app/components/button';\n\nexport default class Thankyou extends React.Component {\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Thank you...\" desc=\"We hope you enjoyed writing & watching fake-news, its so much!\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write/story\" label=\"restart\" desc=\"Write more fake news\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/write/feedback\" label=\"feedback\" desc=\"Leave your feedback for the LetsFakeNews team\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\n\nimport Landing from './landing';\nimport Writing from './writing';\nimport Thankyou from './thankyou';\n\nexport default class IndexWrite extends React.Component {\n  constructor() {\n    super();\n    this.handleChange = this.handleChange.bind(this);\n    this.apiCall = this.apiCall.bind(this);\n    this.apiPost = this.apiPost.bind(this);\n    this.state = {\n      story: \"\",\n      title: \"\",\n      feedback: \"\"\n    }\n  }\n  saveStateToLocalStorage() {\n    // for every item in React state\n    for (let key in this.state) {\n      // save to localStorage\n      localStorage.setItem(key, JSON.stringify(this.state[key]));\n    }\n  }\n  hydrateStateWithLocalStorage() {\n    // for all items in state\n    for (let key in this.state) {\n      // if the key exists in localStorage\n      if (localStorage.hasOwnProperty(key)) {\n        // get the key's value from localStorage\n        let value = localStorage.getItem(key);\n        // parse the localStorage string and setState\n        try {\n          value = JSON.parse(value);\n          this.setState({[key]: value});\n        } catch (e) {\n          // handle empty string\n          this.setState({[key]: value});\n        }\n      }\n    }\n  }\n  handleChange(key, value) {\n    this.setState({[key]: value});\n    //const obj = {}\n    //obj[this.props.subject] = content;\n    // update master state then send back to props to reflect change\n    //console.log(e);\n    //this.setState(JSON.parse(e));\n  }\n  apiCall = async (apiEndPoint) => {\n    const response = await fetch(apiEndPoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  apiPost = async (apiEndPoint, entriesToSend) => {\n    // send JSON to proxy server\n    const data = {}\n    for (let item=0; item<entriesToSend.length; item++) {\n      data[entriesToSend[item]] = this.state[entriesToSend[item]]\n    }\n    console.log(JSON.stringify(data))\n    const response = await fetch(apiEndPoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    const body = await response.text();\n    console.log(body);\n    for (let item=0; item<entriesToSend.length; item++) {\n      this.setState({ [entriesToSend[item]]: \"\" });\n    }\n    this.saveStateToLocalStorage();\n  };\n  componentDidMount() {\n    // register with the backend server\n    this.apiCall(this.props.path).then(res => console.log(res)).catch(err => console.log(err));\n    //if LocalStorage has values, pass them to this.state\n    this.hydrateStateWithLocalStorage();\n    // add event listener to save state to localStorage when user leaves/refreshes the page\n    window.addEventListener(\"beforeunload\", this.saveStateToLocalStorage.bind(this));\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"beforeunload\", this.saveStateToLocalStorage.bind(this));\n    // saves if component has a chance to unmount\n    this.saveStateToLocalStorage();\n  }\n  render() {\n    return (<div>\n      <Switch>\n        <Route exact path=\"/write\" component={Landing}/>\n        <Route path=\"/write/story\" render={() =>\n          <Writing\n          title=\"Write a story...\"\n          desc=\"Make up a fake-news story\"\n          subject=\"story\"\n          rows=\"4\" length=\"280\"\n          value={this.state.story}\n          handleChange={this.handleChange}\n          linkto=\"/write/title\"/>\n        }/>\n        <Route path=\"/write/title\"\n        render={() =>\n          <Writing\n          title=\"Add a title...\"\n          desc=\"Give a title to your story\"\n          subject=\"title\"\n          rows=\"1\"\n          length=\"25\"\n          value={this.state.title}\n          handleChange={this.handleChange}\n          handleSubmit={this.apiPost}\n          apiEndPoint=\"/write/news\"\n          entriesToSend={[\"story\",\"title\"]}\n          linkto=\"/write/thankyou\"/>\n        }/>\n        <Route path=\"/write/thankyou\" component={Thankyou}/>\n        <Route path=\"/write/feedback\" render={() =>\n          <Writing\n          title=\"Give your feedback...\"\n          desc=\"Give us your response to writing & watching fake-news with us\"\n          subject=\"feedback\"\n          rows=\"4\"\n          length=\"280\"\n          value={this.state.feedback}\n          handleChange={this.handleChange}\n          handleSubmit={this.apiPost}\n          apiEndPoint=\"/write/feedback\"\n          entriesToSend={[\"feedback\"]}\n          linkto=\"/write/thankyou\"/>}/>\n        <Redirect to=\"/write\"/>\n      </Switch>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/banner';\nimport ButtonFrame from '../../../app/components/button';\n\nexport default class Landing extends React.Component {\n\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Admin...\" desc=\"Use the following buttons to administer the databases\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/admin/stories\" buttonlabel=\"Stories\" desc=\"Administer stories as they are submitted\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/admin/feedback\" buttonlabel=\"Feedback\" desc=\"View feedback from users\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\nimport BannerFrame from '../../../app/components/banner';\nimport 'eventsource-polyfill';\n\nexport default class Stories extends React.Component {\n  constructor(props) {\n    super(props);\n    //\n    console.log(process.env.NODE_ENV);\n    if (process.env.NODE_ENV === 'production') {\n      console.log('Eventsource listening @ ../settings/sse');\n      this.eventSource = new EventSource('../settings/sse');\n    } else {\n      this.eventSource = new EventSource(`http://localhost:5000/settings/sse`);\n    }\n    //\n    this.apiGet = this.apiGet.bind(this);\n    this.apiPost = this.apiPost.bind(this);\n    this.handleAutolive = this.handleAutolive.bind(this);\n    this.handleRefresh = this.handleRefresh.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n    this.handleStorylive = this.handleStorylive.bind(this);\n    //\n    this.state = {\n      stories: [],\n      autolive: false\n    };\n  }\n  apiGet = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    else\n      return body;\n  }\n  apiPost = async (endpoint, data) => {\n    const response = await fetch(endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  };\n  handleAutolive(isChecked) {\n    /* update status of autolive */\n    this.apiGet(this.props.apiAutolive).then((res) => this.setState({\n      autolive: JSON.parse(res.autolive)\n    })).catch(err => console.log(err));\n  }\n  handleRefresh() {\n    /* Connect to API to refresh imagery */\n    document.activeElement.blur();\n    this.apiGet(this.props.apiRefresh).then(res => console.log(res)).catch(err => console.log(err));\n  }\n  handleClear() {\n    /* Connect to API and clear all from database */\n    document.activeElement.blur();\n    /* Connect to API and clear feedback from database */\n    let data = {\n      subject: this.props.title\n    }\n    this.apiPost(this.props.apiClear, data).then(res => this.setState({\n      stories: res.data\n    })).catch(err => console.log(err));\n  }\n  handleRemove(row) {\n    document.activeElement.blur();\n    /* Connect to API and delete single entry from database */\n    this.apiPost(this.props.apiRemove, row).then((res) => this.setState({\n      stories: res.stories\n    })).catch(err => console.log(err));\n  }\n  handleStorylive(row) {\n    /* Connect to API to update storylive-setting for entry in database */\n    this.apiPost(this.props.apiStorylive, row).then((res) => this.setState({\n      stories: res.stories\n    })).catch(err => console.log(err));\n  }\n  componentDidMount() {\n    /* open sse listener */\n    this.eventSource.addEventListener('story', (e) => {\n      console.log('boom');\n      this.setState({\n        stories: JSON.parse(e.data)\n      });\n    });\n    // Catches errors\n    this.eventSource.onerror = (e) => {\n      console.log(\"---- ERROR: \", e);\n    };\n\n    /* load autolive-status & stories from Db */\n    this.apiGet(this.props.apiHello)\n    .then((res) => {\n      this.setState({autolive: JSON.parse(res.autolive), stories: res.stories})\n      console.log(res);\n    }).catch(err => console.log(err));\n}\ncomponentWillUnmount() {\n  /* close sse listener */\n  /*\n  this.eventSource.close();\n  */\n}\nrender() {\n  const tableStyle = {\n    backgroundColor: \"white\"\n  }\n  return (<div>\n      <BannerFrame desc={this.props.desc} title={this.props.title}/>\n      <hr/>\n      <table className=\"table table-bordered\" style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"95%\"\n              }}>Command</th>\n            <th style={{\n                width: \"5%\"\n              }}>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Set new stories to go live automatically</td>\n            <td style={{textAlign: \"center\"}}><input type=\"checkbox\" checked={this.state.autolive} onChange={this.handleAutolive.bind(this)} className=\"form-check-input show_tip autolive\"/>\n            </td>\n          </tr>\n          <tr>\n            <td>Refresh imagery for all stories</td>\n            <td>\n              <button type=\"button\" onClick={this.handleRefresh.bind(this)} className=\"btn btn-primary show_tip refresh \"></button>\n            </td>\n          </tr>\n          <tr>\n            <td>Clear all stories from database</td>\n            <td>\n              <button\n              type=\"button\"\n              onClick={() => { window.confirm('Are you sure you wish to delete this item?') ? this.handleClear() : document.activeElement.blur() } }\n              className=\"btn btn-danger show_tip clear\"></button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <hr/>\n      <table ref='table_stories' className=\"table table-bordered table-hover\" style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"5%\"\n              }}>#</th>\n            <th style={{\n                width: \"20%\"\n              }}>Title</th>\n            <th style={{\n                width: \"65%\"\n              }}>Story</th>\n            <th style={{\n                width: \"6%\"\n              }}>Delete</th>\n            <th style={{\n                width: \"4%\"\n              }}>Live</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            (this.state.stories.length > 0)\n              ? this.state.stories.map((entry, index) => {\n                return (<tr key={index}>\n                  <td style={{display:'none'}}>{entry._id}</td>\n                  <td>{index + 1}</td>\n                  <td>{entry.title}</td>\n                  <td>{entry.story}</td>\n                  <td>\n                    <button type=\"button\" onClick={() => this.handleRemove(entry)} className=\"btn btn-danger show_tip clear\"></button>\n                  </td>\n                  <td style={{textAlign:'center'}}><input type=\"checkbox\" checked={entry.storylive===true ? true : false} onChange={() => this.handleStorylive(entry)} className=\"form-check-input show_tip autolive\"/></td>\n                </tr>)\n              })\n              : <tr></tr>\n          }\n        </tbody>\n      </table>\n      <hr/>\n    </div>)\n}\n}\n","import React from 'react';\nimport BannerFrame from '../../../app/components/banner';\n\nexport default class Feedback extends React.Component {\n  constructor(props) {\n    super(props);\n    this.apiGet = this.apiGet.bind(this);\n    this.apiPost = this.apiPost.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n    this.state = {\n      feedback: []\n    };\n    this.eventSource = new EventSource(\"http://localhost:5000/settings/sse\");\n  }\n  apiGet = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  apiPost = async (endpoint, data) => {\n    const response = await fetch(endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  };\n  handleClear() {\n    /* Connect to API and clear all from database */\n    document.activeElement.blur();\n    /* Connect to API and clear feedback from database */\n    let data = {\n      subject: this.props.title\n    }\n    this.apiPost(this.props.apiClear, data).then(res => this.setState({\n      feedback: res.data\n    })).catch(err => console.log(err));\n  }\n  componentDidMount() {\n    /* open sse listener */\n    this.eventSource.addEventListener('feedback', e => this.setState({\n      feedback: JSON.parse(e.data)\n    }));\n    /* load database into this.state */\n    this.apiGet(this.props.apiHello).then(res => this.setState({\n      feedback: res.feedback\n    })).catch(err => console.log(err));\n  }\n  componentWillUnmount() {\n    /* close sse listener */\n    this.eventSource.close();\n  }\n  render() {\n    const tableStyle = {\n      backgroundColor: \"white\"\n    }\n    return (<div>\n      <BannerFrame desc={this.props.desc} title={this.props.title}/>\n      <hr/>\n      <table className=\"table table-bordered\" style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"95%\"\n              }}>Command</th>\n            <th style={{\n                width: \"5%\"\n              }}>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Clear all entries from database</td>\n            <td>\n              <button\n              type=\"button\"\n              onClick={() => { window.confirm('Are you sure you wish to delete this item?') ? this.handleClear() : document.activeElement.blur() } }\n              className=\"btn btn-danger show_tip clear\"></button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <hr/>\n      <table className=\"table table-bordered\" style={tableStyle}>\n        <thead className=\"thead-dark\">\n          <tr>\n            <th style={{\n                width: \"5%\"\n              }}>#</th>\n            <th style={{\n                width: \"95%\"\n              }}>Feedback</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            (this.state.feedback.length > 0)\n              ? this.state.feedback.map((entry, index) => {\n                return (<tr key={index}>\n                  <td>{index + 1}</td>\n                  <td>{entry.feedback}</td>\n                </tr>)\n              })\n              : <tr></tr>\n          }\n        </tbody>\n      </table>\n      <hr/>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\n\nimport Landing from './landing';\nimport Stories from './stories';\nimport Feedback from './feedback';\n\nexport default class IndexAdmin extends React.Component {\n  constructor() {\n    super();\n    //this.handleChange = this.handleChange.bind(this);\n    this.apiCall = this.apiCall.bind(this);\n    //this.apiPost = this.apiPost.bind(this);\n    //this.state = {story: \"\",title: \"\",feedback: \"\"}\n  }\n  apiCall = async (apiEndPoint) => {\n    const response = await fetch(apiEndPoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  componentDidMount() {\n    // say hello into the backend server\n    this.apiCall(this.props.path)\n    .then(res => console.log(res))\n    .catch(err => console.log(err));\n  }\n  render() {\n    return (<div className=\"layout\">\n      <Switch>\n        <Route exact path=\"/admin\" component={Landing}/>\n        <Route path=\"/admin/feedback\" render={() =>\n          <Feedback\n          title=\"Feedback\"\n          desc=\"Use this page to view user feedback in realtime\"\n          apiHello=\"/admin/feedback\"\n          apiClear=\"/admin/clear\"\n          />\n        }/>\n        <Route path=\"/admin/stories\" render={() =>\n          <Stories\n          title=\"Stories\"\n          desc=\"Use this page to moderate fakenews stories in realtime\"\n          apiHello=\"/admin/stories\"\n          apiAutolive=\"/admin/stories/autolive\"\n          apiRefresh=\"/admin/stories/refresh\"\n          apiClear=\"/admin/clear\"\n          apiRemove=\"/admin/story/remove\"\n          apiStorylive=\"/admin/story/storylive\"\n          />\n        }/>\n        <Redirect to=\"/admin\"/>\n      </Switch>\n    </div>)\n  }\n}\n","import React from 'react';\n\nimport BannerFrame from '../../../app/components/banner';\nimport ButtonFrame from '../../../app/components/button';\n\nexport default class LandingWatch extends React.Component {\n\n  render() {\n    return (<div>\n      <section>\n        <BannerFrame title=\"Watch...\" desc=\"Open this link on a desktop browser, set to fullscreen and enjoy the show!\"/>\n        <hr/>\n        <ButtonFrame linkto=\"/watch/display\" buttonlabel=\"Watch\"/>\n        <hr/>\n      </section>\n    </div>)\n  }\n}\n","import React from 'react';\nimport ReactPlayer from 'react-player';\n\n// func to calc timing-durations\nconst diff = (start, end) => {\n  return parseFloat((end - start).toFixed(1))\n}\n// function process-multimedia-metadata\nconst metadata = (data, image_duration, imagesStart) => {\n  // load imge_URLS\n  let image_locations = data.urls;\n  let urls = []\n  for (var url in image_locations) {\n    urls.push(image_locations[url]);\n  }\n  // calculate multimedia metadata\n  let pic_duration = Math.round(image_duration / urls.length);\n  let markers = []\n  for (let i = 1; i <= urls.length; i++) {\n    markers.push(Math.round(imagesStart + pic_duration * i));\n  }\n  return {\n    urls: urls,\n    markers: markers\n  }\n}\n\nexport default class Watch extends React.Component {\n  constructor(props) {\n    super(props);\n    //\n    this.apiGet = this.apiGet.bind(this);\n    this.handleFullscreen = this.handleFullscreen.bind(this);\n    this.onReady = this.onReady.bind(this);\n    this.onProgress = this.onProgress.bind(this);\n    this.onEnded = this.onEnded.bind(this);\n    //\n    this.state = {\n      mode: \"\",\n      //timings\n      popupStart: 6.2,\n      popupEnd: 11.3,\n      imagesStart: 17.6,\n      imagesEnd: 41.1,\n      // story data\n      title: \"\",\n      story: \"\",\n      urls: [],\n      markers: [],\n      // array index for currently-displayed image from url-array\n      url_index: 0,\n      // interface elements visibility\n      popup_title: {\n        display: 'none'\n      },\n      image_frame: {\n        display: 'none'\n      },\n      image: {\n        display: 'none'\n      },\n      scroller: {\n        display: 'none'\n      },\n      playing: false,\n      controls: false,\n      volume: 1,\n      progressInterval: 500,\n      url: \"https://res.cloudinary.com/hi58qepi6/video/upload/v1548956607/aljazeera-desktop.mp4\"\n    }\n  }\n  apiGet = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  handleFullscreen() {\n    document.activeElement.blur();\n    console.log('button fullscreen pressed');\n    if (this.state.playing === false) {\n      this.setState({\n        playing: true\n      });\n    } else {\n      this.setState({\n        playing: false\n      });\n    }\n    let i = this.container;\n    // go full-screen with cross-browser support\n    if (i.requestFullscreen) {\n      i.requestFullscreen();\n    } else if (i.webkitRequestFullscreen) {\n      i.webkitRequestFullscreen();\n    } else if (i.mozRequestFullScreen) {\n      i.mozRequestFullScreen();\n    } else if (i.msRequestFullscreen) {\n      i.msRequestFullscreen()\n    }\n  }\n  onReady() {\n    console.log('ready');\n    /* load new story into this.state */\n    this.apiGet('/watch/request_new_story')\n      .then((res) => this.setState({\n        title: res.data.title.toUpperCase(),\n        story: res.data.story,\n        urls: metadata(res.data, this.state.image_duration, this.state.imagesStart).urls,\n        markers: metadata(res.data, this.state.image_duration, this.state.imagesStart).markers\n      }))\n      .then(() => console.log(this.state))\n      .catch(err => console.log(err))\n  }\n  onProgress(e) {\n    /* change url-image according to markers... */\n    let currentSec = e.playedSeconds;\n    if (currentSec >= this.state.markers[this.state.url_index]) {\n      //console.log('marker passed');\n      this.setState({\n        url_index: this.state.url_index + 1\n      });\n      //console.log(this.state.urls[this.state.url_index]);\n    }\n    /* change interface according to markers */\n    if (currentSec >= this.state.popupStart && currentSec <= this.state.popupEnd) {\n      //console.log('popup & title should be visible');\n      this.setState({\n        popup_title: {\n          display: 'block'\n        }\n      });\n    } else if (currentSec >= this.state.imagesStart && currentSec <= this.state.imagesEnd) {\n      //console.log('images & scroller should be visible');\n      this.setState({\n        popup_title: {\n          display: 'none'\n        },\n        image_frame: {\n          display: 'block'\n        },\n        image: {\n          display: 'block'\n        },\n        scroller: {\n          display: 'block'\n        }\n      });\n    } else {\n      this.setState({\n        popup_title: {\n          display: 'none'\n        },\n        image_frame: {\n          display: 'none'\n        },\n        image: {\n          display: 'none'\n        },\n        scroller: {\n          display: 'none'\n        }\n      });\n    }\n  }\n  onEnded() {\n    this.player.seekTo(0);\n  }\n  componentWillMount() {\n    console.log('componentWillMount');\n    /* calculate durations */\n    this.setState({\n      popup_duration: diff(this.state.popupStart, this.state.popupEnd),\n      image_duration: diff(this.state.imagesStart, this.state.imagesEnd)\n    });\n  }\n  componentDidMount() {\n    console.log('componentDidMount');\n    //this.player.seekTo(0);\n  }\n  render() {\n    return (<div>\n      <div id=\"button_div\">\n        <p>\n          <button id=\"btnFullscreen\" onClick={this.handleFullscreen.bind(this)} type=\"button\">TOGGLE PLAY/FULLSCREEN</button>\n        </p>\n      </div>\n        <div id=\"outerContainer\" ref={outerContainer => { this.outerContainer=outerContainer }} className=\"media\">\n          <div id=\"videoContainer\" ref={container => { this.container=container }} className=\"media-player\">\n            <ReactPlayer\n            id=\"videoPlayer\"\n            className='react-player'\n            volume={this.state.volume}\n            width='100%'\n            height='100%'\n            ref={player => { this.player=player }}\n            controls={this.state.controls}\n            progressInterval = {this.state.progressInterval}\n            playing={this.state.playing}\n            onReady={this.onReady.bind(this)}\n            onProgress={this.onProgress.bind(this)}\n            onEnded={this.onEnded.bind(this)}\n            url={this.state.url}\n            />\n            <div id=\"popup_title\" style={this.state.popup_title}>\n              <p id=\"popup_title_text\">{this.state.title}</p>\n            </div>\n            <div id=\"image_frame\" style={this.state.image_frame}>\n              <img id=\"image\" alt=\"\" src={this.state.urls[this.state.url_index]} style={this.state.image}/>\n            </div>\n            <div id=\"scroller\" className=\"scroll-left\" style={this.state.scroller}>\n              <p id=\"scroller_text\">{this.state.story}</p>\n            </div>\n          </div>\n        </div>\n\n    </div>)\n  }\n}\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\n\nimport Landing from './landing';\nimport Watch from './watch';\n\nexport default class IndexWatch extends React.Component {\n\n  callApi = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  componentDidMount() {\n    // load the activelist for display purposes\n    //this.callApi('/settings/activelist').then(res => console.log('Activelist loaded')).catch(err => console.log(err));\n  }\n  render() {\n    return (<div className=\"layout\">\n      <Switch>\n        <Route exact path=\"/watch\" component={Landing}/>\n        <Route path=\"/watch/display\" component={Watch}/>\n        <Redirect to=\"/watch\"/>\n      </Switch>\n    </div>)\n  }\n}\n","import React from 'react';\n// bootstrap\nimport {Navbar, Nav} from 'react-bootstrap';\nimport {LinkContainer} from \"react-router-bootstrap\";\n//\nexport default class IndexLanding extends React.Component {\n  render() {\n    //console.log(this.props);\n    const links = this.props.links;\n    const linksFrame = links.map((entry, i) => <LinkContainer activeClassName=\"active\" key={i} to={`/${entry}`}><Nav.Link>{entry}</Nav.Link></LinkContainer>);\n\n    return (<div>\n      <Navbar bg=\"light\" variant=\"light\" expand=\"md\">\n        <LinkContainer to={this.props.title}>\n          <a className=\"navbar-brand\" href=\"/\">{this.props.title}</a>\n        </LinkContainer>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto\">\n            {linksFrame}\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    </div>)\n  }\n}\n","import React from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom';\n//\nimport Landing from './landing';\nimport Write from './write/index_write';\nimport Admin from './admin/index_admin';\nimport Watch from './watch/index_watch';\nimport NavFrame from '../../app/components/navframe';\n\nexport default class Index extends React.Component {\n  callApi = async (endpoint) => {\n    const response = await fetch(endpoint);\n    const body = await response.json();\n    if (response.status !== 200)\n      throw Error(body.message);\n    return body;\n  }\n  componentDidMount() {\n    this.callApi('/settings/mode')\n      .then(res => console.log(res))\n      .catch(err => console.log(err));\n  }\n  render() {\n    return (<div>\n      <br/>\n      <NavFrame title=\"Let's Fake News\" links={[\"home\", \"write\", \"watch\", \"admin\"]}/>\n      <br/>\n      <Switch>\n        <Route exact path=\"/\" component={Landing}/>\n        <Route path=\"/write\" render={() => <Write path=\"/write\"/>}/>\n        <Route path=\"/admin\" render={() => <Admin path=\"/admin\"/>}/>\n        <Route path=\"/watch\" component={Watch}/>\n        <Redirect to=\"/\"/>\n      </Switch>\n    </div>)\n  }\n}\n","//import 'bootstrap-without-jquery';\n//import 'bootstrap/dist/css/bootstrap.min.css';\nimport './minimum.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\n\nimport Routes from './app/pages/index';\n\nconst App = () => (<BrowserRouter>\n  <Routes/>\n</BrowserRouter>);\n\nReactDOM.render(<App/>, document.getElementById('react'));\n"],"sourceRoot":""}